<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>mainFunctionality</name>
    <events>
        <variable comment="activates and deactivates episode conditional event groups." constant="0" name="currentEpisode" sid="8045531408723187" static="0" type="number">1</variable>
        <variable comment="used for the saySomethingIntro fader function" constant="0" name="introIndexer" sid="4915386208012413" static="0" type="number">0</variable>
        <variable comment="Used to define which character is currently being controlled by the user and needs to be switched to also define which character map is being applied to a main character animated player" constant="0" name="currentMainPlayer" sid="1408413656738808" static="0" type="text">senenle</variable>
        <variable comment="Used to set variables based on the origin of the character" constant="0" name="previousLayout" sid="2026125016025426" static="0" type="text"></variable>
        <variable comment="defines if menu should be turned off for story" constant="0" name="firstRunForStoryCheck" sid="5385666000340618" static="0" type="number">0</variable>
        <variable comment="used based on input from the enableAudio layout to determine if sound should be able to be muted or not" constant="0" name="dontCutSound" sid="6609230308895787" static="0" type="number">0</variable>
        <variable constant="0" name="signalIndex" sid="2643125143525818" static="0" type="number">0</variable>
        <comment>episodeBased Globals</comment>
        <variable constant="0" name="activeEpisodes" sid="6391107586957038" static="0" type="text"></variable>
        <variable constant="0" name="HAVEIFIRED" sid="7674679010468685" static="0" type="number">0</variable>
        <variable constant="0" name="returnTo100" sid="3255584101292198" static="0" type="number">100</variable>
        <variable constant="0" name="currentUidToWalkTo" sid="8329388417509429" static="0" type="number">0</variable>
        <variable constant="0" name="cinmaticComplete" sid="3108205277863526" static="0" type="number">0</variable>
        <variable constant="0" name="helpScreenOpacity2" sid="58169843701745" static="0" type="number">40</variable>
        <variable constant="0" name="HAVEIFIRED2" sid="3064785052657594" static="0" type="number">0</variable>
        <variable constant="0" name="returnTo101" sid="187629308435818" static="0" type="number">100</variable>
        <variable constant="0" name="currentUidToWalkTo2" sid="4077688122984216" static="0" type="number">0</variable>
        <variable constant="0" name="cinmaticComplete2" sid="7191561269603897" static="0" type="number">0</variable>
        <variable constant="0" name="amIonEventGrid" sid="9195220138400131" static="0" type="text">No</variable>
        <variable constant="0" name="timeSinceLayoutBegan" sid="6078902143613664" static="0" type="number">0</variable>
        <variable constant="0" name="timeDiffFromLayoutStart" sid="5614631406576737" static="0" type="number">0</variable>
        <variable constant="1" name="PIXELLATIONSPEED" sid="2241057634156083" static="0" type="number">20</variable>
        <variable constant="0" name="pixelLowValue" sid="214204153126749" static="0" type="number">1</variable>
        <variable constant="0" name="pixelHighValue" sid="7788889244183171" static="0" type="number">16</variable>
        <variable constant="0" name="pixellatedValue" sid="2714292316152691" static="0" type="number">1</variable>
        <variable constant="0" name="pixelateState" sid="9667921001544282" static="0" type="text"></variable>
        <variable constant="0" name="layoutPixellateDirect" sid="5936367501312221" static="0" type="text"></variable>
        <variable constant="0" name="sinceLastChat" sid="6541778765696554" static="0" type="number">0</variable>
        <variable constant="0" name="sinceChatStart" sid="4416223920823657" static="0" type="number">0</variable>
        <event-block sid="2452394921400717">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="3621370180769478" type="System">
                    <param id="0" name="Interval (seconds)">0.15</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Add to" sid="8303851082083459" type="System">
                    <param id="0" name="Variable">sinceLastChat</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-10" name="Add to" sid="9498460262721763" type="System">
                    <param id="0" name="Variable">sinceChatStart</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <include>es_menu</include>
        <event-block sid="7872180438289324">
            <conditions>
                <condition id="0" name="On key pressed" sid="3125226608374312" type="Keyboard">
                    <param id="0" name="Key">80 (P)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-12" name="Set group active" sid="4312856043536537" type="System">
                    <param id="0" name="Group name">&quot;PreviewConditions&quot;</param>
                    <param id="1" name="State">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3751168682567215">
            <conditions>
                <condition id="-2" name="On start of layout" sid="4447443546315414" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="5690772892130096" type="System">
                    <param id="0" name="Variable">pixellatedValue</param>
                    <param id="1" name="Value">pixelHighValue</param>
                </action>
                <action id="-9" name="Set value" sid="8000045485854106" type="System">
                    <param id="0" name="Variable">pixelateState</param>
                    <param id="1" name="Value">&quot;pixellateIn&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="771791233649935">
            <conditions>
                <condition id="0" name="On function" sid="8503717256501954" type="Function">
                    <param id="0" name="Name">&quot;pixellateOutTo&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="7375079583294872" type="System">
                    <param id="0" name="Variable">layoutPixellateDirect</param>
                    <param id="1" name="Value">Function.Param(0)</param>
                </action>
                <action id="-9" name="Set value" sid="27046303245224" type="System">
                    <param id="0" name="Variable">pixelateState</param>
                    <param id="1" name="Value">&quot;pixellateOut&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="3288435014354571" title="Pixellate">
            <sub-events>
                <event-block sid="3798770724539736">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="4164864149150385" type="System">
                            <param id="0" name="Variable">pixelateState</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pixellateIn&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="7123778702506987">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="8269590414274738" type="System">
                                    <param id="0" name="Variable">pixellatedValue</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">pixelLowValue</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Subtract from" sid="7898204907741546" type="System">
                                    <param id="0" name="Variable">pixellatedValue</param>
                                    <param id="1" name="Value">dt*PIXELLATIONSPEED</param>
                                </action>
                                <action id="-31" name="Set layout effect parameter" sid="9727392437343363" type="System">
                                    <param id="0" name="Effect">&quot;Pixellate&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">pixellatedValue</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9674416059096495">
                            <conditions>
                                <condition id="-22" name="Else" sid="4194450350183396" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="2234822414937575" type="System">
                                    <param id="0" name="Variable">pixellatedValue</param>
                                    <param id="1" name="Value">pixelLowValue</param>
                                </action>
                                <action id="-31" name="Set layout effect parameter" sid="5625114962139695" type="System">
                                    <param id="0" name="Effect">&quot;Pixellate&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">pixelLowValue</param>
                                </action>
                                <action id="-9" name="Set value" sid="5488282973047854" type="System">
                                    <param id="0" name="Variable">pixelateState</param>
                                    <param id="1" name="Value">&quot;off&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="5255543935546437">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="1114926541571762" type="System">
                            <param id="0" name="Variable">pixelateState</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pixellateOut&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="2194794567107721">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="6179697546468994" type="System">
                                    <param id="0" name="Variable">pixellatedValue</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">pixelHighValue</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Add to" sid="2069897646585683" type="System">
                                    <param id="0" name="Variable">pixellatedValue</param>
                                    <param id="1" name="Value">dt*PIXELLATIONSPEED</param>
                                </action>
                                <action id="-31" name="Set layout effect parameter" sid="6507556565626033" type="System">
                                    <param id="0" name="Effect">&quot;Pixellate&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">pixellatedValue</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4163710609714749">
                            <conditions>
                                <condition id="-22" name="Else" sid="9529554054832874" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="703958836509608" type="System">
                                    <param id="0" name="Variable">pixellatedValue</param>
                                    <param id="1" name="Value">pixelHighValue</param>
                                </action>
                                <action id="-31" name="Set layout effect parameter" sid="8032647340670166" type="System">
                                    <param id="0" name="Effect">&quot;Pixellate&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">pixelHighValue</param>
                                </action>
                                <action id="-25" name="Go to layout (by name)" sid="8693841404675845" type="System">
                                    <param id="0" name="Layout">layoutPixellateDirect</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <comment>remember to re-reference note on &quot;constant&quot; setting for local variables&#x0D;&#x0A;probably remove fading group as new sprite is doing this</comment>
        <event-group description="" sid="2056022068141107" title="scenarioSetupUsinfRexFunction2">
            <sub-events>
                <event-block sid="8377140376930016">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="6320866025107459" type="System" />
                    </conditions>
                    <actions>
                        <action id="42" name="Setup callback" sid="6210055034804857" type="Scenario">
                            <param id="0" name="Callback">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5930648984770762">
                    <conditions>
                        <condition id="0" name="On function" sid="1054475495357093" type="Function2">
                            <param id="0" name="Name">&quot;fadeInLayout&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Set group active" sid="8359561262155436" type="System">
                            <param id="0" name="Group name">&quot;FadeIn&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8353451470888272">
                    <conditions>
                        <condition id="0" name="On function" sid="3082537592936303" type="Function2">
                            <param id="0" name="Name">&quot;rexFunnelFunction&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="9398798569206169" type="Function">
                            <param id="0" name="Name">Function2.Param(0)</param>
                            <param id="1" name="Parameter {n}">Function2.Param(1){###}Function2.Param(2){###}Function2.Param(3){###}Function2.Param(4){###}Function2.Param(5)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="6303596806676898" title="timeManagement">
            <sub-events>
                <event-block sid="198469996990924">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="2197780241829756" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="5219554342755432" type="System">
                            <param id="0" name="Variable">timeSinceLayoutBegan</param>
                            <param id="1" name="Value">time</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7013291842119229">
                    <conditions />
                    <actions>
                        <action id="-9" name="Set value" sid="8878621705326149" type="System">
                            <param id="0" name="Variable">timeDiffFromLayoutStart</param>
                            <param id="1" name="Value">time - timeSinceLayoutBegan</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="578632788284179" title="containerCreationEvents">
            <sub-events>
                <event-block sid="524400101417259">
                    <conditions>
                        <condition id="-18" name="On created" sid="8249862984423594" type="bed" />
                    </conditions>
                    <actions>
                        <action id="9" name="Set scale" sid="1692338890315969" type="bed">
                            <param id="0" name="Scale">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6641258715162309">
                    <conditions>
                        <condition id="-18" name="On created" sid="396075531826021" type="bed_upperBed" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="2896936422968393" type="bed_pillow">
                            <param id="0" name="X">bed_upperBed.ImagePointX(&quot;pillow&quot;)</param>
                            <param id="1" name="Y">bed_upperBed.ImagePointY(&quot;pillow&quot;)</param>
                        </action>
                        <action id="-29" name="Move to object" sid="6205768227239919" type="bed_pillow">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Object">bed_upperBed</param>
                        </action>
                        <action id="-3" name="Set position" sid="7409162940544001" type="bed_lowerBed">
                            <param id="0" name="X">bed_upperBed.ImagePointX(&quot;lowerBed&quot;)</param>
                            <param id="1" name="Y">bed_upperBed.ImagePointY(&quot;lowerBed&quot;)</param>
                        </action>
                        <action id="-29" name="Move to object" sid="5997020856406561" type="bed_lowerBed">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Object">bed_pillow</param>
                        </action>
                        <action id="-3" name="Set position" sid="227927732641748" type="bed_sheets">
                            <param id="0" name="X">bed_upperBed.ImagePointX(&quot;undersheet&quot;)</param>
                            <param id="1" name="Y">bed_upperBed.ImagePointY(&quot;undersheet&quot;)</param>
                        </action>
                        <action id="-29" name="Move to object" sid="2442767016041172" type="bed_sheets">
                            <param id="0" name="Where">1</param>
                            <param id="1" name="Object">bed_lowerBed</param>
                        </action>
                        <action id="-3" name="Set position" sid="6982425619485327" type="bed_underSheet">
                            <param id="0" name="X">bed_upperBed.ImagePointX(&quot;undersheet&quot;)</param>
                            <param id="1" name="Y">bed_upperBed.ImagePointY(&quot;undersheet&quot;)</param>
                        </action>
                        <action id="-29" name="Move to object" sid="8228394653631428" type="bed_underSheet">
                            <param id="0" name="Where">1</param>
                            <param id="1" name="Object">bed_sheets</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="7242877448571933">
                    <conditions>
                        <condition id="-18" name="On created" sid="4101732952415955" type="bed_pillow" />
                    </conditions>
                    <actions />
                </event-block>
                <event-block disabled="1" sid="6883569860006065">
                    <conditions>
                        <condition id="-18" name="On created" sid="7420114331347326" type="bed_underSheet" />
                    </conditions>
                    <actions />
                </event-block>
                <event-block disabled="1" sid="1186206098737546">
                    <conditions>
                        <condition id="-18" name="On created" sid="523799787657422" type="bed_sheets" />
                    </conditions>
                    <actions />
                </event-block>
            </sub-events>
        </event-group>
        <include>enableAudio</include>
        <include>e_dialog</include>
        <include>spriter</include>
        <include>DataObjectFunctions</include>
        <event-group bookmark="1" description="" sid="3592136949350034" title="textFunctions">
            <sub-events>
                <variable constant="0" name="speaker" sid="591018927752937" static="1" type="text"></variable>
                <variable constant="0" name="currentTalkingSpeed" sid="3157267504082738" static="1" type="number">0.025</variable>
                <variable comment="to check for pauses on the upcoming character" constant="0" name="nextCharacter" sid="4085795928984558" static="1" type="text"></variable>
                <variable comment="to check for pauses on the last character" constant="0" name="lastCharacter" sid="5023090797593965" static="1" type="text"></variable>
                <variable comment="to check for pauses based on current character" constant="0" name="currentCharacter" sid="7477386199409918" static="1" type="text"></variable>
                <variable constant="0" name="numberOfTimesTypeTimerFired" sid="9106712257461546" static="1" type="number">0</variable>
                <variable comment="unsure if this is actually being used at the moment but was intended to be used to check for the total number of pauses in a particular statement" constant="0" name="numberOfPauses" sid="5506104181988877" static="1" type="number">0</variable>
                <variable constant="0" name="totalStatementLength" sid="8891456757233823" static="1" type="number">0</variable>
                <variable comment="used to complete current statements" constant="0" name="currentFullStatement" sid="3984773744366271" static="1" type="text"></variable>
                <event-block sid="5063902226408541">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="9451259462576585" type="menuWindow9" />
                    </conditions>
                    <actions>
                        <action id="-12" name="Set group active" sid="6950253905548383" type="System">
                            <param id="0" name="Group name">&quot;mousePathFind&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-12" name="Set group active" sid="7972595441307299" type="System">
                            <param id="0" name="Group name">&quot;keyBoardTriggers&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-25" name="Move to bottom" sid="6119877679324364" type="save" />
                        <action id="-25" name="Move to bottom" sid="8483814385683644" type="Load2" />
                    </actions>
                    <sub-events>
                        <event-block sid="1229494228192655">
                            <conditions>
                                <condition id="0" name="On any touch start" sid="4483181235972894" type="Touch" />
                                <condition id="-14" name="Compare variable" sid="3971232508053741" type="System">
                                    <param id="0" name="Variable">saveToggle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="8686418968573985">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="301037077847592" type="menuWindow9">
                                            <param id="0" name="Instance variable">isComplete2</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="1676565127107087" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="8466696377866249" type="Function">
                                            <param id="0" name="Name">&quot;completeText&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action disabled="1" id="-12" name="Set group active" sid="554985653395472" type="System">
                                            <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                        <action disabled="1" id="-16" name="Wait" sid="3849365382872645" type="System">
                                            <param id="0" name="Seconds">0.3</param>
                                        </action>
                                        <action disabled="1" id="-12" name="Set group active" sid="839446260449976" type="System">
                                            <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                            <param id="1" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="4553600799648263">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="5967395935701748" type="System" />
                                        <condition id="-4" name="Trigger once while true" sid="1615398844007592" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="1402121922448516" type="Function">
                                            <param id="0" name="Name">&quot;killText&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <variable constant="0" name="pauseLength" sid="2640867168951738" static="0" type="number">0.4</variable>
                <variable constant="0" name="textToSayBottom" sid="3536048923901508" static="0" type="text"></variable>
                <event-block disabled="1" sid="4779652676212986">
                    <conditions />
                    <actions />
                </event-block>
                <event-block sid="821072603782796">
                    <conditions>
                        <condition id="-19" name="On destroyed" sid="6132068670852616" type="menuWindow9" />
                    </conditions>
                    <actions>
                        <action id="-42" name="Signal" sid="6859677476052272" type="System">
                            <param id="0" name="Tag">menuWindow9.dictionaryRef</param>
                        </action>
                        <action id="33" name="Continue with key" sid="1133213027564794" type="Scenario">
                            <param id="0" name="Key">menuWindow9.dictionaryRef</param>
                        </action>
                        <action id="-9" name="Set value" sid="2120527508357918" type="System">
                            <param id="0" name="Variable">signalIndex</param>
                            <param id="1" name="Value">menuWindow9.statementIndexer</param>
                        </action>
                        <action id="-16" name="Wait" sid="7100000441853261" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="5902163216975457" type="Holder" />
                        <action behavior="8Direction" id="0" name="Stop" sid="2040239285051482" type="Holder" />
                    </actions>
                </event-block>
                <comment>Check the stop up above here, this needs to be refined</comment>
                <event-block sid="6392058128039448">
                    <conditions>
                        <condition id="-19" name="On destroyed" sid="5616752147745018" type="menuWindow9" />
                        <condition id="-7" name="Compare instance variable" sid="4510150094665333" type="menuWindow9">
                            <param id="0" name="Instance variable">statementIndexer</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">-1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Set group active" sid="7451915800455229" type="System">
                            <param id="0" name="Group name">&quot;mousePathFind&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-12" name="Set group active" sid="6069069037335627" type="System">
                            <param id="0" name="Group name">&quot;keyBoardTriggers&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <variable constant="0" name="indexMover" sid="6615286252873855" static="0" type="number">0</variable>
                <event-block sid="7904000587677385">
                    <conditions>
                        <condition id="0" name="On function" sid="9961003688423629" type="Function">
                            <param id="0" name="Name">&quot;completeText&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="4038403626522771" type="System">
                            <param id="0" name="First value">len(talkingSpriteText.Text)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">RegexSearch(talkingSpriteText.text, &quot;:&quot;, &quot;g&quot;) + 1</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="8273360939934059" type="System">
                            <param id="0" name="Variable">sinceChatStart</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="2315166433588185">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="1440378487440367" type="menuWindow9">
                                    <param id="0" name="Instance variable">position</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;bottom&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="9741421739781092" type="System">
                                    <param id="0" name="First value">menuArrow2.Count</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="5811755534587042" type="System">
                                    <param id="0" name="Object to create">menuArrow2</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">432</param>
                                    <param id="3" name="Y">ViewportBottom(&quot;HUD Layer&quot;)-15</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9927494024432721">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="5455655074369523" type="menuWindow9">
                                    <param id="0" name="Instance variable">position</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;top&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="2179764316605784" type="System">
                                    <param id="0" name="First value">menuArrow2.Count</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="6961677067004603" type="System">
                                    <param id="0" name="Object to create">menuArrow2</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">432</param>
                                    <param id="3" name="Y">170</param>
                                </action>
                                <action id="-10" name="Set value" sid="9722824331869408" type="menuArrow2">
                                    <param id="0" name="Instance variable">topOrBottom</param>
                                    <param id="1" name="Value">&quot;top&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8245002448536103">
                            <conditions />
                            <actions>
                                <action id="-16" name="Wait" sid="1665589135683423" type="System">
                                    <param id="0" name="Seconds">0.2</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="667680947172968" type="menuWindow9">
                                    <param id="0" name="Instance variable">isComplete2</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1791269790318676">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="8028372194486103" type="System" />
                            </conditions>
                            <actions>
                                <action disabled="1" id="-12" name="Set group active" sid="2147865955667759" type="System">
                                    <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="8612861874755052" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action disabled="1" id="-12" name="Set group active" sid="326179068364347" type="System">
                                    <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="3967251410220552" type="System">
                                    <param id="0" name="Variable">currentFullStatement</param>
                                    <param id="1" name="Value">replace(currentFullStatement,&quot;/&quot;,&quot;&quot;)</param>
                                </action>
                                <action id="0" name="Set text" sid="6737317904122378" type="talkingSpriteText">
                                    <param id="0" name="Text">currentFullStatement</param>
                                </action>
                                <action behavior="Timer" id="1" name="Stop timer" sid="8067375308830727" type="talkingSpriteText">
                                    <param id="0" name="Tag">&quot;type&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6807783006578203">
                    <conditions>
                        <condition id="0" name="On function" sid="3860962983004629" type="Function">
                            <param id="0" name="Name">&quot;killText&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="876721703332622" type="System">
                            <param id="0" name="First value">len(talkingSpriteText.Text)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">RegexSearch(talkingSpriteText.text, &quot;:&quot;, &quot;g&quot;) + 1</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="1252541650018869" type="System">
                            <param id="0" name="Variable">sinceChatStart</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="1639505800466943">
                            <conditions />
                            <actions />
                        </event-block>
                        <event-block sid="4728607730971378">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="3589947740117514" type="System" />
                            </conditions>
                            <actions>
                                <action disabled="1" id="-16" name="Wait" sid="8286745679210808" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action disabled="1" id="-12" name="Set group active" sid="8751882237722875" type="System">
                                    <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action disabled="1" id="-16" name="Wait" sid="9917549165513625" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action disabled="1" id="-12" name="Set group active" sid="4621352375739249" type="System">
                                    <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-42" name="Signal" sid="1838276599057516" type="System">
                                    <param id="0" name="Tag">menuWindow9.dictionaryRef</param>
                                </action>
                                <action id="-9" name="Set value" sid="1558950564590945" type="System">
                                    <param id="0" name="Variable">signalIndex</param>
                                    <param id="1" name="Value">menuWindow9.statementIndexer</param>
                                </action>
                                <action id="-9" name="Destroy" sid="2582332942666454" type="menuWindow9" />
                                <action id="-9" name="Destroy" sid="8327655162483715" type="combinedFaces" />
                                <action id="-9" name="Destroy" sid="9378576359170046" type="talkingSpriteText" />
                                <action id="-9" name="Destroy" sid="8488422667739995" type="menuArrow2" />
                                <action behavior="Timer" id="1" name="Stop timer" sid="5232346238163206" type="talkingSpriteText">
                                    <param id="0" name="Tag">&quot;type&quot;</param>
                                </action>
                                <action behavior="Timer" id="1" name="Stop timer" sid="4092691902040861" type="talkingSpriteText">
                                    <param id="0" name="Tag">&quot;introType&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="6773604037604743" type="System">
                                    <param id="0" name="Variable">sinceLastChat</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Params for this function are: 0:text, 1:Face Frame 2: Pause Length 3: MenuWundow indexer 4:is optional addition or subtraction from Speed</comment>
                <comment>change the face parameter to pull the face name</comment>
                <event-block bookmark="1" sid="3728421250744783">
                    <conditions>
                        <condition id="0" name="On function" sid="6163250876342209" type="Function">
                            <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="7346966233897028" type="System">
                            <param id="0" name="Variable">sinceChatStart</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <variable constant="0" name="intExistingWinCount" sid="1189635442928336" static="0" type="number">0</variable>
                        <variable constant="0" name="intExistingWinCountNotSameStatement" sid="1272383733718312" static="0" type="number">0</variable>
                        <event-block sid="630081938933561">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="3734057991599247" type="menuWindow9">
                                    <param id="0" name="Instance variable">dictionaryRef</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="116930031928964" type="System">
                                    <param id="0" name="Variable">intExistingWinCount</param>
                                    <param id="1" name="Value">menuWindow9.PickedCount</param>
                                </action>
                                <action id="14" name="Log" sid="6831387693440442" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">intExistingWinCount</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2400169795807634">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="4686632236728448" type="menuWindow9">
                                    <param id="0" name="Instance variable">dictionaryRef</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="2808570198923287" type="System">
                                    <param id="0" name="Variable">intExistingWinCountNotSameStatement</param>
                                    <param id="1" name="Value">menuWindow9.PickedCount</param>
                                </action>
                                <action id="14" name="Log" sid="675762549431782" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">intExistingWinCount</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4447604032778697">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="155534116487747" type="System">
                                    <param id="0" name="Variable">intExistingWinCount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="6849000683971939" type="System">
                                    <param id="0" name="Object to create">menuWindow9</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">0</param>
                                    <param id="3" name="Y">305</param>
                                </action>
                                <action id="-24" name="Move to top" sid="5881740546317016" type="menuWindow9" />
                                <action id="-3" name="Create object" sid="5102714477295912" type="System">
                                    <param id="0" name="Object to create">combinedFaces</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">menuWindow9.X - 30</param>
                                    <param id="3" name="Y">menuWindow9.Y +180</param>
                                </action>
                                <action id="2" name="Set object scale ratio" sid="4576935290872789" type="combinedFaces">
                                    <param id="0" name="Scale Ratio">0.45</param>
                                    <param id="1" name="Flip X Axis">0</param>
                                    <param id="2" name="Flip Y Axis">0</param>
                                </action>
                                <action id="0" name="Set animation" sid="407945075756777" type="combinedFaces">
                                    <param id="0" name="Animation">Function.Param(1)</param>
                                    <param id="1" name="Where to start playing this animation">0</param>
                                    <param id="2" name="Blend Duration">0</param>
                                </action>
                                <action id="-3" name="Create object" sid="3913148287143012" type="System">
                                    <param id="0" name="Object to create">talkingSpriteText</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">180</param>
                                    <param id="3" name="Y">310</param>
                                </action>
                                <action id="-10" name="Set value" sid="3842228055099181" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">myStatement</param>
                                    <param id="1" name="Value">scriptDictionary.Get(Function.Param(0))</param>
                                </action>
                                <action id="1" name="Append text" sid="4917780862917393" type="talkingSpriteText">
                                    <param id="0" name="Text">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                                </action>
                                <action id="-9" name="Set value" sid="3181347888105236" type="System">
                                    <param id="0" name="Variable">speaker</param>
                                    <param id="1" name="Value">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                                </action>
                                <action id="-10" name="Set value" sid="1517450534194133" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">currentTextLengthToSay</param>
                                    <param id="1" name="Value">len(talkingSpriteText.Text)</param>
                                </action>
                                <action id="-10" name="Set value" sid="5954222559874884" type="menuWindow9">
                                    <param id="0" name="Instance variable">dictionaryRef</param>
                                    <param id="1" name="Value">Function.Param(0)</param>
                                </action>
                                <action id="-9" name="Set value" sid="1054092185300438" type="System">
                                    <param id="0" name="Variable">textToSayBottom</param>
                                    <param id="1" name="Value">&quot;&quot;</param>
                                </action>
                                <action id="-10" name="Set value" sid="7046653807446667" type="menuWindow9">
                                    <param id="0" name="Instance variable">statementIndexer</param>
                                    <param id="1" name="Value">Function.Param(2)</param>
                                </action>
                                <action id="-9" name="Set value" sid="7159827448275417" type="System">
                                    <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="1002083998354155" type="System">
                                    <param id="0" name="Variable">currentTalkingSpeed</param>
                                    <param id="1" name="Value">Function.param(3)</param>
                                </action>
                                <action behavior="Timer" id="0" name="Start timer" sid="7120496987719989" type="talkingSpriteText">
                                    <param id="0" name="Duration">currentTalkingSpeed</param>
                                    <param id="1" name="Type">1</param>
                                    <param id="2" name="Tag">&quot;type&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="4155499336554967" type="System">
                                    <param id="0" name="Variable">currentFullStatement</param>
                                    <param id="1" name="Value">replace(talkingSpriteText.myStatement,&quot;/&quot;,&quot; &quot;)</param>
                                </action>
                                <action id="-9" name="Set value" sid="1133476088024135" type="System">
                                    <param id="0" name="Variable">totalStatementLength</param>
                                    <param id="1" name="Value">len(currentFullStatement)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Maybe use these variables to also set pause length?</comment>
                                <comment>Define a local variable here that takes a switch case from the function param of &quot;Fast, Very Fast etc.  And then changes based on that to the speed of the below timer.</comment>
                                <event-block sid="7970614402938373">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="7258053520704055" type="Function">
                                            <param id="0" name="Index">1</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;blank&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="8943545584214844" type="talkingSpriteText">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-5" name="Set width" sid="7677876811046047" type="talkingSpriteText">
                                            <param id="0" name="Width">814</param>
                                        </action>
                                        <action id="-1" name="Set X" sid="7543993098280909" type="talkingSpriteText">
                                            <param id="0" name="X">15</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="7296549222290345" type="talkingSpriteText">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="2537053889237609">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="2479084307419277" type="Function">
                                            <param id="0" name="Index">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;top&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="3013537319507543" type="menuWindow9">
                                            <param id="0" name="Instance variable">position</param>
                                            <param id="1" name="Value">&quot;top&quot;</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="7203110361448179" type="talkingSpriteText">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="3794765442465765" type="combinedFaces">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="5632412776673615" type="menuWindow9">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="6558844235825828" type="talkingSpriteText">
                                            <param id="0" name="Y">10</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="7772931933440388" type="combinedFaces">
                                            <param id="0" name="Y">175</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="5439651864919052" type="menuWindow9">
                                            <param id="0" name="Y">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="1751997688691875" type="talkingSpriteText">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="3441154009558137" type="combinedFaces">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="4670200531472947" type="menuWindow9">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="6995700257186193">
                            <conditions>
                                <condition id="-22" name="Else" sid="5154890016242595" type="System" />
                                <condition id="-14" name="Compare variable" sid="7547187119412279" type="System">
                                    <param id="0" name="Variable">intExistingWinCountNotSameStatement</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action disabled="1" id="-3" name="Create object" sid="8101264765551368" type="System">
                                    <param id="0" name="Object to create">menuWindow9</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">0</param>
                                    <param id="3" name="Y">305</param>
                                </action>
                                <action disabled="1" id="-24" name="Move to top" sid="5586117204746226" type="menuWindow9" />
                                <action disabled="1" id="-3" name="Create object" sid="4865174721617706" type="System">
                                    <param id="0" name="Object to create">combinedFaces</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">menuWindow9.X - 30</param>
                                    <param id="3" name="Y">menuWindow9.Y +180</param>
                                </action>
                                <action disabled="1" id="2" name="Set object scale ratio" sid="8543672703379763" type="combinedFaces">
                                    <param id="0" name="Scale Ratio">0.45</param>
                                    <param id="1" name="Flip X Axis">0</param>
                                    <param id="2" name="Flip Y Axis">0</param>
                                </action>
                                <action id="0" name="Set animation" sid="4323100099505688" type="combinedFaces">
                                    <param id="0" name="Animation">Function.Param(1)</param>
                                    <param id="1" name="Where to start playing this animation">0</param>
                                    <param id="2" name="Blend Duration">0</param>
                                </action>
                                <action disabled="1" id="-3" name="Create object" sid="6620436788253182" type="System">
                                    <param id="0" name="Object to create">talkingSpriteText</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">180</param>
                                    <param id="3" name="Y">310</param>
                                </action>
                                <action id="0" name="Set text" sid="8902046174108084" type="talkingSpriteText">
                                    <param id="0" name="Text">&quot;&quot;</param>
                                </action>
                                <action id="-10" name="Set value" sid="6796521122885526" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">myStatement</param>
                                    <param id="1" name="Value">scriptDictionary.Get(Function.Param(0))</param>
                                </action>
                                <action id="1" name="Append text" sid="639927437043494" type="talkingSpriteText">
                                    <param id="0" name="Text">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                                </action>
                                <action id="-9" name="Set value" sid="9526969495945674" type="System">
                                    <param id="0" name="Variable">speaker</param>
                                    <param id="1" name="Value">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                                </action>
                                <action id="-10" name="Set value" sid="5051895655244004" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">currentTextLengthToSay</param>
                                    <param id="1" name="Value">len(talkingSpriteText.Text)</param>
                                </action>
                                <action id="-10" name="Set value" sid="7799239869320142" type="menuWindow9">
                                    <param id="0" name="Instance variable">dictionaryRef</param>
                                    <param id="1" name="Value">Function.Param(0)</param>
                                </action>
                                <action id="-9" name="Set value" sid="4085232453861596" type="System">
                                    <param id="0" name="Variable">textToSayBottom</param>
                                    <param id="1" name="Value">&quot;&quot;</param>
                                </action>
                                <action id="-10" name="Set value" sid="2220612145958074" type="menuWindow9">
                                    <param id="0" name="Instance variable">statementIndexer</param>
                                    <param id="1" name="Value">Function.Param(2)</param>
                                </action>
                                <action id="-9" name="Set value" sid="6870966468172422" type="System">
                                    <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="9725719119563036" type="System">
                                    <param id="0" name="Variable">currentTalkingSpeed</param>
                                    <param id="1" name="Value">Function.param(3)</param>
                                </action>
                                <action behavior="Timer" id="0" name="Start timer" sid="7460879310160815" type="talkingSpriteText">
                                    <param id="0" name="Duration">currentTalkingSpeed</param>
                                    <param id="1" name="Type">1</param>
                                    <param id="2" name="Tag">&quot;type&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="3929898233579729" type="System">
                                    <param id="0" name="Variable">currentFullStatement</param>
                                    <param id="1" name="Value">replace(talkingSpriteText.myStatement,&quot;/&quot;,&quot; &quot;)</param>
                                </action>
                                <action id="-9" name="Set value" sid="830565504035415" type="System">
                                    <param id="0" name="Variable">totalStatementLength</param>
                                    <param id="1" name="Value">len(currentFullStatement)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="5646241697166886">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="252661041100244" type="Function">
                                            <param id="0" name="Index">1</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;blank&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="6011550875310061" type="talkingSpriteText">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-5" name="Set width" sid="7140026029484784" type="talkingSpriteText">
                                            <param id="0" name="Width">814</param>
                                        </action>
                                        <action id="-1" name="Set X" sid="3089761439288044" type="talkingSpriteText">
                                            <param id="0" name="X">15</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="7466046063095984" type="talkingSpriteText">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="8660269999845687">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="3333501057370909" type="Function">
                                            <param id="0" name="Index">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;top&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="1926268697384545" type="menuWindow9">
                                            <param id="0" name="Instance variable">position</param>
                                            <param id="1" name="Value">&quot;top&quot;</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="1725276668882193" type="talkingSpriteText">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="5965875229594925" type="combinedFaces">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="503823654964465" type="menuWindow9">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="2961377646493581" type="talkingSpriteText">
                                            <param id="0" name="Y">10</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="298166517235381" type="combinedFaces">
                                            <param id="0" name="Y">175</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="7379685826726484" type="menuWindow9">
                                            <param id="0" name="Y">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="3843466290354056" type="talkingSpriteText">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="2304178021634241" type="combinedFaces">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="3408477382730695" type="menuWindow9">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block bookmark="1" sid="1449120040954196">
                    <conditions>
                        <condition id="0" name="On function" sid="3204118937814873" type="Function2">
                            <param id="0" name="Name">&quot;saySomethingBottom2&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="2618627531198576" type="System">
                            <param id="0" name="Variable">sinceChatStart</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <variable constant="0" name="intExistingWinCount" sid="4935501738440669" static="0" type="number">0</variable>
                        <event-block sid="3901767178036728">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="4473931966883563" type="menuWindow9">
                                    <param id="0" name="Instance variable">dictionaryRef</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Function2.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="7629658793138476" type="System">
                                    <param id="0" name="Variable">intExistingWinCount</param>
                                    <param id="1" name="Value">menuWindow9.PickedCount</param>
                                </action>
                                <action id="14" name="Log" sid="49125560902797" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">intExistingWinCount</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5289134758270614">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="9734853546313214" type="System">
                                    <param id="0" name="Variable">intExistingWinCount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="4159996107512328" type="System">
                                    <param id="0" name="Object to create">menuWindow9</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">0</param>
                                    <param id="3" name="Y">305</param>
                                </action>
                                <action id="-24" name="Move to top" sid="4519930562220011" type="menuWindow9" />
                                <action id="-3" name="Create object" sid="7814924333470857" type="System">
                                    <param id="0" name="Object to create">combinedFaces</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">menuWindow9.X - 30</param>
                                    <param id="3" name="Y">menuWindow9.Y +180</param>
                                </action>
                                <action id="2" name="Set object scale ratio" sid="5454205230883448" type="combinedFaces">
                                    <param id="0" name="Scale Ratio">0.45</param>
                                    <param id="1" name="Flip X Axis">0</param>
                                    <param id="2" name="Flip Y Axis">0</param>
                                </action>
                                <action id="0" name="Set animation" sid="1406094122439867" type="combinedFaces">
                                    <param id="0" name="Animation">Function2.Param(1)</param>
                                    <param id="1" name="Where to start playing this animation">0</param>
                                    <param id="2" name="Blend Duration">0</param>
                                </action>
                                <action id="-3" name="Create object" sid="9778430145571628" type="System">
                                    <param id="0" name="Object to create">talkingSpriteText</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">180</param>
                                    <param id="3" name="Y">310</param>
                                </action>
                                <action id="-10" name="Set value" sid="2703613690207455" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">myStatement</param>
                                    <param id="1" name="Value">scriptDictionary.Get(Function2.Param(0))</param>
                                </action>
                                <action id="1" name="Append text" sid="4507327921723487" type="talkingSpriteText">
                                    <param id="0" name="Text">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                                </action>
                                <action id="-9" name="Set value" sid="3336402112511576" type="System">
                                    <param id="0" name="Variable">speaker</param>
                                    <param id="1" name="Value">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                                </action>
                                <action id="-10" name="Set value" sid="5530535262495379" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">currentTextLengthToSay</param>
                                    <param id="1" name="Value">len(talkingSpriteText.Text)</param>
                                </action>
                                <action id="-10" name="Set value" sid="6863118186115622" type="menuWindow9">
                                    <param id="0" name="Instance variable">dictionaryRef</param>
                                    <param id="1" name="Value">Function2.Param(0)</param>
                                </action>
                                <action id="-9" name="Set value" sid="3948559606854873" type="System">
                                    <param id="0" name="Variable">textToSayBottom</param>
                                    <param id="1" name="Value">&quot;&quot;</param>
                                </action>
                                <action id="-10" name="Set value" sid="3937760449499057" type="menuWindow9">
                                    <param id="0" name="Instance variable">statementIndexer</param>
                                    <param id="1" name="Value">Function2.Param(2)</param>
                                </action>
                                <action id="-9" name="Set value" sid="7121602234196342" type="System">
                                    <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="8450970181365324" type="System">
                                    <param id="0" name="Variable">currentTalkingSpeed</param>
                                    <param id="1" name="Value">Function2.param(3)</param>
                                </action>
                                <action behavior="Timer" id="0" name="Start timer" sid="6670692843050555" type="talkingSpriteText">
                                    <param id="0" name="Duration">currentTalkingSpeed</param>
                                    <param id="1" name="Type">1</param>
                                    <param id="2" name="Tag">&quot;type&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="9309396363324316" type="System">
                                    <param id="0" name="Variable">currentFullStatement</param>
                                    <param id="1" name="Value">replace(talkingSpriteText.myStatement,&quot;/&quot;,&quot; &quot;)</param>
                                </action>
                                <action id="-9" name="Set value" sid="582954119526746" type="System">
                                    <param id="0" name="Variable">totalStatementLength</param>
                                    <param id="1" name="Value">len(currentFullStatement)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Maybe use these variables to also set pause length?</comment>
                                <comment>Define a local variable here that takes a switch case from the function param of &quot;Fast, Very Fast etc.  And then changes based on that to the speed of the below timer.</comment>
                                <event-block sid="5318379780172701">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="3865429633275527" type="Function2">
                                            <param id="0" name="Index">1</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;blank&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="9894200933505436" type="talkingSpriteText">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-5" name="Set width" sid="7332504092294285" type="talkingSpriteText">
                                            <param id="0" name="Width">814</param>
                                        </action>
                                        <action id="-1" name="Set X" sid="6055355839807906" type="talkingSpriteText">
                                            <param id="0" name="X">15</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="738780053494216" type="talkingSpriteText">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5094406990826685">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="5897068691701209" type="Function2">
                                            <param id="0" name="Index">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;top&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="2307086745015323" type="menuWindow9">
                                            <param id="0" name="Instance variable">position</param>
                                            <param id="1" name="Value">&quot;top&quot;</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="9002604555230453" type="talkingSpriteText">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="9932279273695515" type="combinedFaces">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="2719989724263769" type="menuWindow9">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="5744708577036735" type="talkingSpriteText">
                                            <param id="0" name="Y">10</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="2049194157260116" type="combinedFaces">
                                            <param id="0" name="Y">175</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="2324968675722377" type="menuWindow9">
                                            <param id="0" name="Y">0</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="9653118234148783" type="talkingSpriteText">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="2158131798038553" type="combinedFaces">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Anchor" id="0" name="Set enabled" sid="3990920621968038" type="menuWindow9">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block bookmark="1" sid="7598422397063714">
                    <conditions>
                        <condition id="0" name="On function" sid="9376593237773506" type="Function">
                            <param id="0" name="Name">&quot;saySomethingBottomSignal&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-41" name="Wait for signal" sid="2502863349521182" type="System">
                            <param id="0" name="Tag">Function.Param(5)</param>
                        </action>
                        <action id="-3" name="Create object" sid="3013352827831183" type="System">
                            <param id="0" name="Object to create">menuWindow9</param>
                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                            <param id="2" name="X">0</param>
                            <param id="3" name="Y">305</param>
                        </action>
                        <action id="-24" name="Move to top" sid="8137196529664039" type="menuWindow9" />
                        <action id="-3" name="Create object" sid="9530931617184727" type="System">
                            <param id="0" name="Object to create">combinedFaces</param>
                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                            <param id="2" name="X">menuWindow9.X - 30</param>
                            <param id="3" name="Y">menuWindow9.Y +180</param>
                        </action>
                        <action id="2" name="Set object scale ratio" sid="2704044042176866" type="combinedFaces">
                            <param id="0" name="Scale Ratio">0.45</param>
                            <param id="1" name="Flip X Axis">0</param>
                            <param id="2" name="Flip Y Axis">0</param>
                        </action>
                        <action id="0" name="Set animation" sid="4362199358976967" type="combinedFaces">
                            <param id="0" name="Animation">Function.Param(1)</param>
                            <param id="1" name="Where to start playing this animation">0</param>
                            <param id="2" name="Blend Duration">0</param>
                        </action>
                        <action id="-3" name="Create object" sid="1744221086394687" type="System">
                            <param id="0" name="Object to create">talkingSpriteText</param>
                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                            <param id="2" name="X">180</param>
                            <param id="3" name="Y">310</param>
                        </action>
                        <action id="-10" name="Set value" sid="8615880823642608" type="talkingSpriteText">
                            <param id="0" name="Instance variable">myStatement</param>
                            <param id="1" name="Value">scriptDictionary.Get(Function.Param(0))</param>
                        </action>
                        <action id="1" name="Append text" sid="5581161478688663" type="talkingSpriteText">
                            <param id="0" name="Text">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                        </action>
                        <action id="-9" name="Set value" sid="7892257113545373" type="System">
                            <param id="0" name="Variable">speaker</param>
                            <param id="1" name="Value">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                        </action>
                        <action id="-10" name="Set value" sid="4107701968217699" type="talkingSpriteText">
                            <param id="0" name="Instance variable">currentTextLengthToSay</param>
                            <param id="1" name="Value">len(talkingSpriteText.Text)</param>
                        </action>
                        <action id="-10" name="Set value" sid="6270965870950963" type="menuWindow9">
                            <param id="0" name="Instance variable">dictionaryRef</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="-9" name="Set value" sid="8947723986171201" type="System">
                            <param id="0" name="Variable">textToSayBottom</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                        <action id="-10" name="Set value" sid="7245738895901591" type="menuWindow9">
                            <param id="0" name="Instance variable">statementIndexer</param>
                            <param id="1" name="Value">Function.Param(2)</param>
                        </action>
                        <action id="-9" name="Set value" sid="2460910907597155" type="System">
                            <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="3208153133266678" type="System">
                            <param id="0" name="Variable">currentTalkingSpeed</param>
                            <param id="1" name="Value">Function.param(3)</param>
                        </action>
                        <action behavior="Timer" id="0" name="Start timer" sid="3990644293197011" type="talkingSpriteText">
                            <param id="0" name="Duration">currentTalkingSpeed</param>
                            <param id="1" name="Type">1</param>
                            <param id="2" name="Tag">&quot;type&quot;</param>
                        </action>
                        <action id="-9" name="Set value" sid="8176350032519905" type="System">
                            <param id="0" name="Variable">currentFullStatement</param>
                            <param id="1" name="Value">replace(talkingSpriteText.myStatement,&quot;/&quot;,&quot; &quot;)</param>
                        </action>
                        <action id="-9" name="Set value" sid="2455735956820063" type="System">
                            <param id="0" name="Variable">totalStatementLength</param>
                            <param id="1" name="Value">len(currentFullStatement)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Maybe use these variables to also set pause length?</comment>
                        <comment>Define a local variable here that takes a switch case from the function param of &quot;Fast, Very Fast etc.  And then changes based on that to the speed of the below timer.</comment>
                        <event-block sid="3566425455974586">
                            <conditions>
                                <condition id="1" name="Compare parameter" sid="6192789913883655" type="Function">
                                    <param id="0" name="Index">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;blank&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="8100235687842308" type="talkingSpriteText">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action id="-5" name="Set width" sid="9275496970025402" type="talkingSpriteText">
                                    <param id="0" name="Width">menuWindow9.Width - 20</param>
                                </action>
                                <action id="-1" name="Set X" sid="140784184823529" type="talkingSpriteText">
                                    <param id="0" name="X">15</param>
                                </action>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="5592135026634358" type="talkingSpriteText">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3487587538488966">
                            <conditions>
                                <condition id="1" name="Compare parameter" sid="8910856436711081" type="Function">
                                    <param id="0" name="Index">4</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;top&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="27292340088783" type="menuWindow9">
                                    <param id="0" name="Instance variable">position</param>
                                    <param id="1" name="Value">&quot;top&quot;</param>
                                </action>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="4600476015740271" type="talkingSpriteText">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="4999175994184588" type="combinedFaces">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="1134859032854881" type="menuWindow9">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action id="-2" name="Set Y" sid="7917931697425649" type="talkingSpriteText">
                                    <param id="0" name="Y">10</param>
                                </action>
                                <action id="-2" name="Set Y" sid="4231695028909111" type="combinedFaces">
                                    <param id="0" name="Y">175</param>
                                </action>
                                <action id="-2" name="Set Y" sid="4643326433108154" type="menuWindow9">
                                    <param id="0" name="Y">0</param>
                                </action>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="1190722301554139" type="talkingSpriteText">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="5321764915735081" type="combinedFaces">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="Anchor" id="0" name="Set enabled" sid="2907705806873551" type="menuWindow9">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block bookmark="1" sid="131349432664366">
                    <conditions>
                        <condition id="0" name="On function" sid="7352523901041889" type="Function">
                            <param id="0" name="Name">&quot;saySomethingBlankFace&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="621786214447372" type="System">
                            <param id="0" name="Object to create">menuWindow9</param>
                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                            <param id="2" name="X">0</param>
                            <param id="3" name="Y">305</param>
                        </action>
                        <action id="-24" name="Move to top" sid="361922581237969" type="menuWindow9" />
                        <action id="-3" name="Create object" sid="6620532249237687" type="System">
                            <param id="0" name="Object to create">combinedFaces</param>
                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                            <param id="2" name="X">menuWindow9.X - 30</param>
                            <param id="3" name="Y">menuWindow9.Y +180</param>
                        </action>
                        <action id="2" name="Set object scale ratio" sid="8507712600587123" type="combinedFaces">
                            <param id="0" name="Scale Ratio">0.45</param>
                            <param id="1" name="Flip X Axis">0</param>
                            <param id="2" name="Flip Y Axis">0</param>
                        </action>
                        <action id="0" name="Set animation" sid="346940120303136" type="combinedFaces">
                            <param id="0" name="Animation">&quot;blank&quot;</param>
                            <param id="1" name="Where to start playing this animation">0</param>
                            <param id="2" name="Blend Duration">0</param>
                        </action>
                        <action id="-3" name="Create object" sid="8367797104684972" type="System">
                            <param id="0" name="Object to create">talkingSpriteText</param>
                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                            <param id="2" name="X">15</param>
                            <param id="3" name="Y">310</param>
                        </action>
                        <action id="-10" name="Set value" sid="9299667280254492" type="talkingSpriteText">
                            <param id="0" name="Instance variable">myStatement</param>
                            <param id="1" name="Value">scriptDictionary.Get(Function.Param(0))</param>
                        </action>
                        <action id="1" name="Append text" sid="8778205733690733" type="talkingSpriteText">
                            <param id="0" name="Text">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                        </action>
                        <action id="-10" name="Set value" sid="122282418387867" type="talkingSpriteText">
                            <param id="0" name="Instance variable">currentTextLengthToSay</param>
                            <param id="1" name="Value">len(talkingSpriteText.Text)</param>
                        </action>
                        <action id="-9" name="Set value" sid="9860132505841242" type="System">
                            <param id="0" name="Variable">speaker</param>
                            <param id="1" name="Value">left(talkingSpriteText.myStatement,find(talkingSpriteText.myStatement, &quot;:&quot;))</param>
                        </action>
                        <action id="-10" name="Set value" sid="1433377399771392" type="menuWindow9">
                            <param id="0" name="Instance variable">dictionaryRef</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="-9" name="Set value" sid="7748136411707169" type="System">
                            <param id="0" name="Variable">textToSayBottom</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                        <action id="-10" name="Set value" sid="1922227981602718" type="menuWindow9">
                            <param id="0" name="Instance variable">statementIndexer</param>
                            <param id="1" name="Value">Function.Param(1)</param>
                        </action>
                        <action id="-9" name="Set value" sid="9388512349935764" type="System">
                            <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="8613709577358468" type="System">
                            <param id="0" name="Variable">currentTalkingSpeed</param>
                            <param id="1" name="Value">Function.param(2)</param>
                        </action>
                        <action behavior="Timer" id="0" name="Start timer" sid="7288820457268443" type="talkingSpriteText">
                            <param id="0" name="Duration">currentTalkingSpeed</param>
                            <param id="1" name="Type">1</param>
                            <param id="2" name="Tag">&quot;type&quot;</param>
                        </action>
                        <action id="-9" name="Set value" sid="4345314810219234" type="System">
                            <param id="0" name="Variable">currentFullStatement</param>
                            <param id="1" name="Value">replace(talkingSpriteText.myStatement,&quot;/&quot;,&quot; &quot;)</param>
                        </action>
                        <action id="-9" name="Set value" sid="3504119958410496" type="System">
                            <param id="0" name="Variable">totalStatementLength</param>
                            <param id="1" name="Value">len(currentFullStatement)</param>
                        </action>
                        <action behavior="Anchor" id="0" name="Set enabled" sid="4561908529806337" type="talkingSpriteText">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="-5" name="Set width" sid="1347051824079127" type="talkingSpriteText">
                            <param id="0" name="Width">menuWindow9.Width - 20</param>
                        </action>
                        <action behavior="Anchor" id="0" name="Set enabled" sid="633284305246118" type="talkingSpriteText">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Maybe use these variables to also set pause length?</comment>
                        <comment>Define a local variable here that takes a switch case from the function param of &quot;Fast, Very Fast etc.  And then changes based on that to the speed of the below timer.</comment>
                    </sub-events>
                </event-block>
                <event-block sid="5447132592514114">
                    <conditions>
                        <condition behavior="Timer" id="0" name="On timer" sid="6147151492402944" type="talkingSpriteText">
                            <param id="0" name="Tag">&quot;type&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="5582355799150717" type="System">
                            <param id="0" name="Variable">nextCharacter</param>
                            <param id="1" name="Value">mid(talkingSpriteText.myStatement,talkingSpriteText.currentTextLengthToSay +1,1)</param>
                        </action>
                        <action id="-9" name="Set value" sid="3849070146838233" type="System">
                            <param id="0" name="Variable">lastCharacter</param>
                            <param id="1" name="Value">mid(talkingSpriteText.myStatement,talkingSpriteText.currentTextLengthToSay -1,1)</param>
                        </action>
                        <action id="-9" name="Set value" sid="7324183529470159" type="System">
                            <param id="0" name="Variable">currentCharacter</param>
                            <param id="1" name="Value">mid(talkingSpriteText.myStatement,talkingSpriteText.currentTextLengthToSay,1)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Almost have it but a chaacter is duplicating Need to change it so that it switches it on and off</comment>
                        <event-block any="1" sid="1803818276498728">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="8718529503538983" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;.&quot;</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="8871839145879946" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;!&quot;</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="3720707733959163" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;?&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Set object time scale" sid="1965310511365354" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                    <param id="1" name="Time scale">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="745238174241381" type="System">
                                    <param id="0" name="Seconds">0.45</param>
                                </action>
                                <action id="-15" name="Restore object time scale" sid="1891994434411872" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4191918369591441">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="5266029698724351" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;,&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Set object time scale" sid="6587160993623738" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                    <param id="1" name="Time scale">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="2206080644550334" type="System">
                                    <param id="0" name="Seconds">0.35</param>
                                </action>
                                <action id="-15" name="Restore object time scale" sid="4479271134718994" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" sid="9891011844254788">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="4791296024026788" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;/&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Set object time scale" sid="5148135248680485" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                    <param id="1" name="Time scale">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="9198921827744627" type="System">
                                    <param id="0" name="Seconds">0.5</param>
                                </action>
                                <action id="-15" name="Restore object time scale" sid="7929138705667791" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8965327770648177">
                            <conditions>
                                <condition id="-22" name="Else" sid="2940723724024517" type="System" />
                            </conditions>
                            <actions>
                                <action id="1" name="Append text" sid="218912742293795" type="talkingSpriteText">
                                    <param id="0" name="Text">currentCharacter</param>
                                </action>
                                <action id="-10" name="Add to" sid="2991412115518627" type="System">
                                    <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7221868550343323">
                            <conditions />
                            <actions>
                                <action id="-11" name="Add to" sid="7598638501609673" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">currentTextLengthToSay</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3584586473022413">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="4715520891232843" type="System">
                                    <param id="0" name="First value">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">totalStatementLength - 3 - len(speaker)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="2204877810071608">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="8428049625799102" type="menuWindow9">
                                            <param id="0" name="Instance variable">position</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;bottom&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="2867974303470995" type="System">
                                            <param id="0" name="Object to create">menuArrow2</param>
                                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                            <param id="2" name="X">432</param>
                                            <param id="3" name="Y">ViewportBottom(&quot;HUD Layer&quot;)-15</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="6641735217906735">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="7771637084438893" type="menuWindow9">
                                            <param id="0" name="Instance variable">position</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;top&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="2908889649068895" type="System">
                                            <param id="0" name="Object to create">menuArrow2</param>
                                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                            <param id="2" name="X">432</param>
                                            <param id="3" name="Y">170</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="3904761214627348">
                                    <conditions />
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="8631608472246471" type="menuWindow9">
                                            <param id="0" name="Instance variable">isComplete2</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="2909783951979763">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="4213472962856392" type="System">
                                    <param id="0" name="First value">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">totalStatementLength </param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Timer" id="1" name="Stop timer" sid="2455932063827176" type="talkingSpriteText">
                                    <param id="0" name="Tag">&quot;type&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="8702521878059219">
                    <conditions>
                        <condition behavior="Timer" id="0" name="On timer" sid="2190079415032702" type="talkingSpriteText">
                            <param id="0" name="Tag">&quot;introType&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="3697791609525784" type="System">
                            <param id="0" name="Variable">nextCharacter</param>
                            <param id="1" name="Value">mid(talkingSpriteText.myStatement,talkingSpriteText.currentTextLengthToSay +1,1)</param>
                        </action>
                        <action id="-9" name="Set value" sid="8413159253162885" type="System">
                            <param id="0" name="Variable">lastCharacter</param>
                            <param id="1" name="Value">mid(talkingSpriteText.myStatement,talkingSpriteText.currentTextLengthToSay -1,1)</param>
                        </action>
                        <action id="-9" name="Set value" sid="2380683930163975" type="System">
                            <param id="0" name="Variable">currentCharacter</param>
                            <param id="1" name="Value">mid(talkingSpriteText.myStatement,talkingSpriteText.currentTextLengthToSay,1)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Almost have it but a chaacter is duplicating Need to change it so that it switches it on and off</comment>
                        <event-block any="1" sid="3050416514486472">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="1273006821629302" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;.&quot;</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="5722175555412972" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;!&quot;</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="3729737886191421" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;?&quot;</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="8166495054504454" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;:&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Set object time scale" sid="3154740209157588" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                    <param id="1" name="Time scale">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="729532546251093" type="System">
                                    <param id="0" name="Seconds">0.4</param>
                                </action>
                                <action id="-15" name="Restore object time scale" sid="4688633068874156" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="438025156712311">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="2655859808909053" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;,&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Set object time scale" sid="1030938337051943" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                    <param id="1" name="Time scale">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="1463363364960259" type="System">
                                    <param id="0" name="Seconds">0.25</param>
                                </action>
                                <action id="-15" name="Restore object time scale" sid="3727096056679512" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" sid="542845396901687">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="598957634460701" type="System">
                                    <param id="0" name="Variable">currentCharacter</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;/&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Set object time scale" sid="138398716027444" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                    <param id="1" name="Time scale">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="4145265757145378" type="System">
                                    <param id="0" name="Seconds">0.5</param>
                                </action>
                                <action id="-15" name="Restore object time scale" sid="6438272914616947" type="System">
                                    <param id="0" name="Object">talkingSpriteText</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1888452603963249">
                            <conditions>
                                <condition id="-22" name="Else" sid="7869672207723968" type="System" />
                            </conditions>
                            <actions>
                                <action id="1" name="Append text" sid="7259822569541365" type="talkingSpriteText">
                                    <param id="0" name="Text">currentCharacter</param>
                                </action>
                                <action id="-10" name="Add to" sid="2838682399720233" type="System">
                                    <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9346014341611305">
                            <conditions />
                            <actions>
                                <action id="-11" name="Add to" sid="5801990406353465" type="talkingSpriteText">
                                    <param id="0" name="Instance variable">currentTextLengthToSay</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3823134073191039">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="736598407872202" type="System">
                                    <param id="0" name="First value">numberOfTimesTypeTimerFired</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">totalStatementLength</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="8010307786785256" type="System">
                                    <param id="0" name="Object to create">menuArrow2</param>
                                    <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                                    <param id="2" name="X">432</param>
                                    <param id="3" name="Y">ViewportBottom(&quot;HUD Layer&quot;)-15</param>
                                </action>
                                <action behavior="Timer" id="1" name="Stop timer" sid="8567152869656867" type="talkingSpriteText">
                                    <param id="0" name="Tag">&quot;introType&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block bookmark="1" sid="9914446386431484">
                    <conditions>
                        <condition id="0" name="On function" sid="330022644682727" type="Function">
                            <param id="0" name="Name">&quot;saySomethingIntro&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="1044178012543219" type="System">
                            <param id="0" name="Object to create">talkingSpriteText</param>
                            <param id="1" name="Layer">&quot;HUD Layer&quot;</param>
                            <param id="2" name="X">Function.Param(4)</param>
                            <param id="3" name="Y">Function.Param(5)</param>
                        </action>
                        <action id="-24" name="Move to top" sid="6282870321350499" type="talkingSpriteText" />
                        <action id="-15" name="Set visible" sid="4464304345869136" type="Fader">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="2832782460329505" type="Fader">
                            <param id="0" name="Instance variable">eventSignal</param>
                            <param id="1" name="Value">Function.Param(1)</param>
                        </action>
                        <action id="-12" name="Set group active" sid="1759417681987246" type="System">
                            <param id="0" name="Group name">&quot;fadeOut&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="8047313149984196" type="talkingSpriteText">
                            <param id="0" name="Instance variable">myStatement</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="-9" name="Set value" sid="7483809162821075" type="System">
                            <param id="0" name="Variable">textToSayBottom</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                        <action id="-9" name="Set value" sid="8774517833244484" type="System">
                            <param id="0" name="Variable">numberOfTimesTypeTimerFired</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="5531585629041585" type="System">
                            <param id="0" name="Variable">currentTalkingSpeed</param>
                            <param id="1" name="Value">Function.param(2)</param>
                        </action>
                        <action behavior="Timer" id="0" name="Start timer" sid="7635853091185716" type="talkingSpriteText">
                            <param id="0" name="Duration">currentTalkingSpeed</param>
                            <param id="1" name="Type">1</param>
                            <param id="2" name="Tag">&quot;introType&quot;</param>
                        </action>
                        <action id="-9" name="Set value" sid="23311122113451" type="System">
                            <param id="0" name="Variable">currentFullStatement</param>
                            <param id="1" name="Value">replace(talkingSpriteText.myStatement,&quot;/&quot;,&quot; &quot;)</param>
                        </action>
                        <action id="-9" name="Set value" sid="7572022957229804" type="System">
                            <param id="0" name="Variable">totalStatementLength</param>
                            <param id="1" name="Value">len(currentFullStatement)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9836382662304169">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="5639833970778808" type="PlayerFamily">
                                    <param id="0" name="Instance variable">myName</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Function.Param(3)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-26" name="Move to layer" sid="5733946716792775" type="PlayerFamily">
                                    <param id="0" name="Layer">&quot;top&quot;</param>
                                </action>
                                <action id="-24" name="Move to top" sid="4957720739109842" type="PlayerFamily" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>working but difficult to have a subsequent </comment>
                <event-block sid="9218510244303144">
                    <conditions>
                        <condition id="0" name="On function" sid="7260170274420589" type="Function">
                            <param id="0" name="Name">&quot;waitAndSaySomethingBottom&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-41" name="Wait for signal" sid="3369456514711572" type="System">
                            <param id="0" name="Tag">Function.Param(0)</param>
                        </action>
                        <action id="0" name="Call function" sid="5023396015843121" type="Function">
                            <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                            <param id="1" name="Parameter {n}">Function.Param(1){###}Function.Param(2){###}Function.Param(3){###}Function.Param(4)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <include>DataSetFunctions</include>
        <event-block sid="1032262699981384">
            <conditions>
                <condition id="0" name="On function" sid="8336430548953362" type="Function">
                    <param id="0" name="Name">&quot;startMainAtNearestStartPoint&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="2998318710014795">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="4920203953955697" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="1341454627114952">
                            <conditions>
                                <condition id="-15" name="Pick nearest/furthest" sid="1048755450468434" type="startPoint">
                                    <param id="0" name="Which">0</param>
                                    <param id="1" name="X">Holder.X</param>
                                    <param id="2" name="Y">Holder.Y</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="250460236573146" type="Holder">
                                    <param id="0" name="Object">startPoint</param>
                                    <param id="1" name="Image point (optional)">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="5729852580960096">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="5400859610386537" type="PlayerFamily">
                                            <param id="0" name="Instance variable">myName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">holder.whoFollowsMe</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-26" name="Move to layer" sid="7378773923520643" type="PlayerFamily">
                                            <param id="0" name="Layer">&quot;Mid&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="1940623012669743" title="Fades">
            <sub-events>
                <variable comment="might be redundant with state and need to check" constant="0" name="transitionState" sid="6177355999234717" static="1" type="text">FadeIn</variable>
                <variable constant="0" name="transitioning" sid="9826953803552568" static="1" type="number">0</variable>
                <variable comment="used to define the current state of the fader transition group " constant="0" name="State" sid="1867432211084246" static="1" type="text"></variable>
                <event-block disabled="1" sid="3624829882974968">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="9427215425169373" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="9017082687606655" type="System">
                            <param id="0" name="Object to create">Fader</param>
                            <param id="1" name="Layer">&quot;Top&quot;</param>
                            <param id="2" name="X">0</param>
                            <param id="3" name="Y">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" inactive="1" sid="5160774645725953" title="FadeOut">
                    <sub-events>
                        <event-block sid="9598662203590992">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="8006119301173074" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">&quot;Fading&quot;</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="4861669245505395" type="System">
                                    <param id="0" name="Variable">transitioning</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="7777746257537306" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Value">&quot;Fading&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="2267119214737406" type="System">
                                    <param id="0" name="Variable">transitioning</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-3" name="Create object" sid="9659906849018784" type="System">
                                    <param id="0" name="Object to create">Fader</param>
                                    <param id="1" name="Layer">&quot;Top&quot;</param>
                                    <param id="2" name="X">0</param>
                                    <param id="3" name="Y">-2000</param>
                                </action>
                                <action id="-3" name="Set position" sid="311948034609488" type="Fader">
                                    <param id="0" name="X">0</param>
                                    <param id="1" name="Y">0</param>
                                </action>
                                <action id="-5" name="Set width" sid="242643976551653" type="Fader">
                                    <param id="0" name="Width">100000</param>
                                </action>
                                <action id="-6" name="Set height" sid="2712181537142516" type="Fader">
                                    <param id="0" name="Height">100000</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="1831718768376616" type="Fader">
                                    <param id="0" name="Opacity">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1316992754792769">
                            <conditions>
                                <condition id="-10" name="Compare opacity" sid="571419834635801" type="Fader">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Opacity">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Set opacity" sid="3086874252383073" type="Fader">
                                    <param id="0" name="Opacity">fader.Opacity + 100 * dt</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1374019556580097">
                            <conditions>
                                <condition id="-10" name="Compare opacity" sid="163334366299292" type="Fader">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Opacity">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="9574482873363325" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Value">&quot;Faded&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="7915376889139471" type="System">
                                    <param id="0" name="Variable">transitioning</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-12" name="Set group active" sid="3789916564785861" type="System">
                                    <param id="0" name="Group name">&quot;FadeOut&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action disabled="1" id="-16" name="Wait" sid="9188341274194751" type="System">
                                    <param id="0" name="Seconds">3</param>
                                </action>
                                <action disabled="1" id="-9" name="Destroy" sid="7775071513178618" type="Fader" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" inactive="1" sid="4556667749691645" title="FadeIn">
                    <sub-events>
                        <event-block sid="6882377472018028">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="7227555869927459" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">&quot;Fading&quot;</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="2576404980339962" type="System">
                                    <param id="0" name="Variable">transitioning</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="5352316974942274" type="System">
                                    <param id="0" name="Object to create">Fader</param>
                                    <param id="1" name="Layer">&quot;Top&quot;</param>
                                    <param id="2" name="X">0</param>
                                    <param id="3" name="Y">-2000</param>
                                </action>
                                <action id="-9" name="Set value" sid="3601623651592121" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Value">&quot;Fading&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="7871436754370247" type="System">
                                    <param id="0" name="Variable">transitioning</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-3" name="Set position" sid="8302635560781462" type="Fader">
                                    <param id="0" name="X">0</param>
                                    <param id="1" name="Y">0</param>
                                </action>
                                <action id="-5" name="Set width" sid="5223658722259125" type="Fader">
                                    <param id="0" name="Width">100000</param>
                                </action>
                                <action id="-6" name="Set height" sid="7957583680746329" type="Fader">
                                    <param id="0" name="Height">100000</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="4924942514337279" type="Fader">
                                    <param id="0" name="Opacity">100</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9813717973351984">
                            <conditions>
                                <condition id="-10" name="Compare opacity" sid="534967865770306" type="Fader">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="Opacity">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Set opacity" sid="3322642644754915" type="Fader">
                                    <param id="0" name="Opacity">fader.Opacity - 100 * dt</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8391295524609414">
                            <conditions>
                                <condition id="-10" name="Compare opacity" sid="2976132869032086" type="Fader">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Opacity">0</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="3782358592543654" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">&quot;Faded&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="3597862298998883" type="Fader" />
                                <action disabled="1" id="-9" name="Set value" sid="33013270391404" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Value">&quot;StartLayout&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="2582824349188408" type="System">
                                    <param id="0" name="Variable">State</param>
                                    <param id="1" name="Value">&quot;Faded&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="4603669659131566" type="System">
                                    <param id="0" name="Variable">transitioning</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-12" name="Set group active" sid="6042834109238734" type="System">
                                    <param id="0" name="Group name">&quot;FadeIn&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action disabled="1" id="-16" name="Wait" sid="327233393330345" type="System">
                                    <param id="0" name="Seconds">3</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="9928130560437654" title="eventByTileTriggersTouchAndSpace">
            <sub-events>
                <variable constant="0" name="isNpcTalking" sid="5153689616816784" static="0" type="number">0</variable>
                <variable constant="0" name="playerOverEventTileIdForExit" sid="7026137158395868" static="1" type="number">-1</variable>
                <variable constant="0" name="playerTileX" sid="9718364737121065" static="0" type="number">0</variable>
                <variable constant="0" name="playerTileY" sid="2394828508587719" static="0" type="number">0</variable>
                <variable constant="0" name="layoutToDirectTo" sid="3785767338600508" static="1" type="text">none</variable>
                <variable constant="0" name="playerTileForNPCX" sid="9685604847096869" static="0" type="number">0</variable>
                <variable constant="0" name="playerTileForNPCY" sid="3829498118512928" static="0" type="number">0</variable>
                <variable constant="0" name="playerOverEventTileIdForNPCChat" sid="8210689448844167" static="1" type="number">-1</variable>
                <variable constant="0" name="getScriptKey" sid="3668212097632798" static="1" type="text"></variable>
                <variable constant="0" name="touchx" sid="9917600886101422" static="0" type="number">0</variable>
                <variable constant="0" name="touchy" sid="5752346604890273" static="0" type="number">0</variable>
                <variable constant="0" name="touchTile2" sid="6027391894423455" static="1" type="number">0</variable>
                <comment>These variables above work when they are static but trying to undo that so they reset themselves, now resetting when not overlapping</comment>
                <comment>In the layout grid X is the tile ID of the tile and is the row, Y is the currentEpisode so that the layout to which they go can change easily by episode</comment>
                <event-block sid="7055328716202219">
                    <conditions>
                        <condition id="3" name="On touched object" sid="2539647325111446" type="Touch">
                            <param id="0" name="Object">eventGridNPCFamily</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="1723223112999277" type="Holder">
                            <param id="0" name="Object">eventGridNPCFamily</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="4671936484449155" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="1587179733054048" type="eventGridNPCFamily">
                            <param id="0" name="Instance variable">purpose</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;npcChat&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="9062877948709908" type="System">
                            <param id="0" name="First value">menuWindow9.Count</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="4452638486604395" type="System">
                            <param id="0" name="Variable">playerTileForNPCX</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.X)</param>
                        </action>
                        <action id="-9" name="Set value" sid="9089298052923322" type="System">
                            <param id="0" name="Variable">playerTileForNPCY</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.Y)</param>
                        </action>
                        <action id="-9" name="Set value" sid="7458653789031189" type="System">
                            <param id="0" name="Variable">playerOverEventTileIdForNPCChat</param>
                            <param id="1" name="Value">eventGridNPCFamily.TileAt(playerTileForNPCX, playerTileForNPCY)</param>
                        </action>
                        <action id="-9" name="Set value" sid="1073983709577894" type="System">
                            <param id="0" name="Variable">touchx</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Touch.X)</param>
                        </action>
                        <action id="-9" name="Set value" sid="9999529199007226" type="System">
                            <param id="0" name="Variable">touchy</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileY(Touch.Y)</param>
                        </action>
                        <action id="-9" name="Set value" sid="162414547122847" type="System">
                            <param id="0" name="Variable">touchTile2</param>
                            <param id="1" name="Value">eventGridNPCFamily.TileAt(touchx,touchy)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Add something here for detecting this on main player only</comment>
                        <event-block sid="5998586535275668">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="2950594220912685" type="System">
                                    <param id="0" name="Variable">touchTile2</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="9794241847393233" type="System">
                                    <param id="0" name="First value">touchTile2 </param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">playerOverEventTileIdForNPCChat</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="690323305525415" type="System">
                                    <param id="0" name="Variable">getScriptKey</param>
                                    <param id="1" name="Value">eventChatArray.At(touchTile2,currentEpisode)</param>
                                </action>
                                <action id="0" name="Call function" sid="7422279826453799" type="Function">
                                    <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                                    <param id="1" name="Parameter {n}">getScriptKey{###}&quot;blank&quot;{###}-1{###}0.025</param>
                                </action>
                                <action id="14" name="Log" sid="4924072929469825" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">&quot;touched&quot; &amp; getScriptKey</param>
                                </action>
                                <action id="14" name="Log" sid="9561220520555616" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">scriptDictionary.Get(getScriptKey)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3517963931822082">
                            <conditions />
                            <actions />
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="5750477320494653">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="4144354781264066" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="7001983734579426" type="Holder">
                            <param id="0" name="Object">eventGridNPCFamily</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="1597403994221892" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5525786999860402" type="eventGridNPCFamily">
                            <param id="0" name="Instance variable">purpose</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;npcChat&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="1245855958306196" type="System">
                            <param id="0" name="First value">menuWindow9.Count</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="4943686806187481" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="-9" name="Set value" sid="3543028878363247" type="System">
                            <param id="0" name="Variable">playerTileForNPCX</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.X)</param>
                        </action>
                        <action id="-9" name="Set value" sid="3726424667717097" type="System">
                            <param id="0" name="Variable">playerTileForNPCY</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.Y)</param>
                        </action>
                        <action id="-9" name="Set value" sid="2130329469471655" type="System">
                            <param id="0" name="Variable">playerOverEventTileIdForNPCChat</param>
                            <param id="1" name="Value">eventGridNPCFamily.TileAt(playerTileForNPCX, playerTileForNPCY)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Add something here for detecting this on main player only</comment>
                        <event-block sid="4103474163042009">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="5908704417107402" type="System">
                                    <param id="0" name="Variable">playerOverEventTileIdForNPCChat</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="3224161729002536" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="81827822944559" type="System">
                                    <param id="0" name="Variable">getScriptKey</param>
                                    <param id="1" name="Value">eventChatArray.At(playerOverEventTileIdForNPCChat,currentEpisode)</param>
                                </action>
                                <action id="0" name="Call function" sid="9329635850900033" type="Function">
                                    <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                                    <param id="1" name="Parameter {n}">getScriptKey{###}&quot;blank&quot;{###}-1{###}0.025</param>
                                </action>
                                <action id="14" name="Log" sid="2223822346429075" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">&quot;space barred&quot; &amp; getScriptKey</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="1559868105564748">
                    <conditions>
                        <condition id="6" name="On button pressed" sid="7774873909633793" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">0</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="7699068222666047" type="Holder">
                            <param id="0" name="Object">eventGridNPCFamily</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="1590790097402309" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="8167267541946741" type="eventGridNPCFamily">
                            <param id="0" name="Instance variable">purpose</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;npcChat&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="4610875668275421" type="System">
                            <param id="0" name="First value">menuWindow9.Count</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="3190575462606178" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="-9" name="Set value" sid="6495922750014605" type="System">
                            <param id="0" name="Variable">playerTileForNPCX</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.X)</param>
                        </action>
                        <action id="-9" name="Set value" sid="6903403200517253" type="System">
                            <param id="0" name="Variable">playerTileForNPCY</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.Y)</param>
                        </action>
                        <action id="-9" name="Set value" sid="5954949102080268" type="System">
                            <param id="0" name="Variable">playerOverEventTileIdForNPCChat</param>
                            <param id="1" name="Value">eventGridNPCFamily.TileAt(playerTileForNPCX, playerTileForNPCY)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Add something here for detecting this on main player only</comment>
                        <event-block sid="2548518175957536">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="5781407781849441" type="System">
                                    <param id="0" name="Variable">playerOverEventTileIdForNPCChat</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="8547371951337375" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="1227977083318502" type="System">
                                    <param id="0" name="Variable">getScriptKey</param>
                                    <param id="1" name="Value">eventChatArray.At(playerOverEventTileIdForNPCChat,currentEpisode)</param>
                                </action>
                                <action id="0" name="Call function" sid="4108659123995985" type="Function">
                                    <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                                    <param id="1" name="Parameter {n}">getScriptKey{###}&quot;blank&quot;{###}-1{###}0.025</param>
                                </action>
                                <action id="14" name="Log" sid="4526125516412665" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">&quot;space barred&quot; &amp; getScriptKey</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="5307202017426787" title="tileLayoutExits">
            <sub-events>
                <event-block sid="5928854865992524">
                    <conditions>
                        <condition id="0" name="On function" sid="2026596070654646" type="Function">
                            <param id="0" name="Name">&quot;halfOpacity&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="helpScreenOpacity" sid="4586253863339226" static="0" type="number">40</variable>
                        <event-block sid="4821190278960577">
                            <conditions />
                            <actions>
                                <action id="-18" name="Set layer opacity" sid="596979558921046" type="System">
                                    <param id="0" name="Layer">0</param>
                                    <param id="1" name="Opacity">helpScreenOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="4498966161977128" type="System">
                                    <param id="0" name="Layer">1</param>
                                    <param id="1" name="Opacity">helpScreenOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="2074718501331856" type="System">
                                    <param id="0" name="Layer">2</param>
                                    <param id="1" name="Opacity">helpScreenOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="2827791416283759" type="System">
                                    <param id="0" name="Layer">3</param>
                                    <param id="1" name="Opacity">helpScreenOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="6409786878722415" type="System">
                                    <param id="0" name="Layer">4</param>
                                    <param id="1" name="Opacity">helpScreenOpacity</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="7129271509403482">
                    <conditions>
                        <condition id="0" name="On function" sid="6428436903262227" type="Function">
                            <param id="0" name="Name">&quot;fullOpacity&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="fullOpacity" sid="5009913306556201" static="0" type="number">100</variable>
                        <event-block sid="7830176771883726">
                            <conditions />
                            <actions />
                        </event-block>
                        <event-block sid="747078872883241">
                            <conditions />
                            <actions>
                                <action id="-18" name="Set layer opacity" sid="7566276724347083" type="System">
                                    <param id="0" name="Layer">0</param>
                                    <param id="1" name="Opacity">fullOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="8291844031585995" type="System">
                                    <param id="0" name="Layer">1</param>
                                    <param id="1" name="Opacity">fullOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="5504303662066883" type="System">
                                    <param id="0" name="Layer">2</param>
                                    <param id="1" name="Opacity">fullOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="6719409449603783" type="System">
                                    <param id="0" name="Layer">3</param>
                                    <param id="1" name="Opacity">fullOpacity</param>
                                </action>
                                <action id="-18" name="Set layer opacity" sid="2649599627336455" type="System">
                                    <param id="0" name="Layer">4</param>
                                    <param id="1" name="Opacity">fullOpacity</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <variable constant="0" name="playerOverEventTileIdForExit" sid="7026137158395868" static="1" type="number">-1</variable>
                <variable constant="0" name="playerTileX" sid="9718364737121065" static="0" type="number">0</variable>
                <variable constant="0" name="playerTileY" sid="2394828508587719" static="0" type="number">0</variable>
                <variable constant="0" name="layoutToDirectTo" sid="3785767338600508" static="1" type="text">none</variable>
                <comment>These variables above work when they are static but trying to undo that so they reset themselves, now resetting when not overlapping</comment>
                <comment>In the layout grid X is the tile ID of the tile and is the row, Y is the currentEpisode so that the layout to which they go can change easily by episode</comment>
                <event-block sid="7851920261646593">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="5622143829612264" type="Holder">
                            <param id="0" name="Object">eventGridLayoutExitFamily</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="4772913359408865" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="9247802498934094" type="eventGridLayoutExitFamily">
                            <param id="0" name="Instance variable">purpose</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;exit&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="3951481996603841" type="System">
                            <param id="0" name="Variable">playerTileX</param>
                            <param id="1" name="Value">eventGridLayoutExitFamily.PositionToTileX(Holder.X)</param>
                        </action>
                        <action id="-9" name="Set value" sid="6625775495560084" type="System">
                            <param id="0" name="Variable">playerTileY</param>
                            <param id="1" name="Value">eventGridLayoutExitFamily.PositionToTileX(Holder.Y)</param>
                        </action>
                        <action id="-9" name="Set value" sid="9692210807498373" type="System">
                            <param id="0" name="Variable">playerOverEventTileIdForExit</param>
                            <param id="1" name="Value">eventGridLayoutExitFamily.TileAt(playerTileX, playerTileY)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Add something here for detecting this on main player only</comment>
                        <event-block sid="523904231460857">
                            <conditions />
                            <actions />
                        </event-block>
                        <event-block sid="9885911628932702">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="5581058296828009" type="System">
                                    <param id="0" name="Variable">playerOverEventTileIdForExit</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="4646338915020719" type="System">
                                    <param id="0" name="Variable">layoutToDirectTo</param>
                                    <param id="1" name="Value">eventTileLayoutSendArray.At(playerOverEventTileIdForExit,currentEpisode)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="7937201173453316">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="6137159174241055" type="System">
                                            <param id="0" name="Variable">layoutToDirectTo</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">&quot;none&quot;</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="8128954657878092" type="System" />
                                        <condition id="-7" name="Compare instance variable" sid="6322779754214677" type="PlayerFamily">
                                            <param id="0" name="Instance variable">myName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">holder.whoFollowsMe</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-26" name="Move to layer" sid="9790839134533664" type="PlayerFamily">
                                            <param id="0" name="Layer">&quot;Ground&quot;</param>
                                        </action>
                                        <action disabled="1" id="-16" name="Wait" sid="6666250756346756" type="System">
                                            <param id="0" name="Seconds">1.5</param>
                                        </action>
                                        <action disabled="1" id="-25" name="Go to layout (by name)" sid="3489312925801677" type="System">
                                            <param id="0" name="Layout">layoutToDirectTo</param>
                                        </action>
                                        <action id="0" name="Call function" sid="398932975545457" type="Function">
                                            <param id="0" name="Name">&quot;pixellateOutTo&quot;</param>
                                            <param id="1" name="Parameter {n}">layoutToDirectTo</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="3630783110277962" type="System">
                                            <param id="0" name="Variable">layoutToDirectTo</param>
                                            <param id="1" name="Value">&quot;none&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="8640297021773889">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="2598446599681729" type="System" />
                                        <condition id="-14" name="Compare variable" sid="6070047418473278" type="System">
                                            <param id="0" name="Variable">layoutToDirectTo</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;none&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="3003703631633314" type="System">
                                            <param id="0" name="Variable">amIonEventGrid</param>
                                            <param id="1" name="Value">&quot;No&quot;</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="5651362526293407" type="System">
                                            <param id="0" name="Variable">playerOverEventTileIdForExit</param>
                                            <param id="1" name="Value">-1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="6116628618578146" title="chatInstanceVariablesNumber">
            <sub-events>
                <variable constant="0" name="mouseToNpcDistance" sid="6262575228412489" static="1" type="number">0</variable>
                <variable constant="0" name="distanceBetweenPlayerAndNpc" sid="702389639908682" static="1" type="number">-1</variable>
                <variable constant="0" name="intNumWindows" sid="4336099670620605" static="0" type="number">0</variable>
                <variable constant="0" name="getScriptKey" sid="6078743651381934" static="0" type="text"></variable>
                <comment>This must be used in place of tile walking around</comment>
                <event-block sid="523904231460857">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="1694080768827665" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="2401971145589699" type="Holder">
                            <param id="0" name="Instance variable">wasMovingAs</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">&quot;none&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="2257892085595473">
                            <conditions>
                                <condition id="-15" name="Pick nearest/furthest" sid="4468854944895201" type="npcs">
                                    <param id="0" name="Which">0</param>
                                    <param id="1" name="X">Holder.X</param>
                                    <param id="2" name="Y">Holder.Y</param>
                                </condition>
                                <condition id="-3" name="Is on-screen" sid="4351684880041785" type="npcs" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="2684182162296589" type="System">
                                    <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                    <param id="1" name="Value">distance(Holder.X,Holder.Y,npcs.X,npcs.Y)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="1248214191940108">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="9470268601676588" type="System">
                                            <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">100</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="6436197294920052" type="System">
                                            <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">-1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="2264484222747643">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="65586760908053" type="npcs">
                                                    <param id="0" name="Instance variable">myChatVariable</param>
                                                    <param id="1" name="Comparison">1</param>
                                                    <param id="2" name="Value">-1</param>
                                                </condition>
                                                <condition id="-4" name="Trigger once while true" sid="7317644404782885" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="9736826354494473" type="npcs">
                                                    <param id="0" name="Instance variable">talkToMe</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action behavior="npcGleam" id="0" name="Set activated" sid="6292910987588984" type="npcs">
                                                    <param id="0" name="Activated">1</param>
                                                </action>
                                                <action behavior="npcGleam" id="1" name="Flash start" sid="1107767759329991" type="npcs" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="2194377476883317">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="9233103611827777" type="System" />
                                        <condition id="-19" name="Pick all" sid="8121714207310634" type="System">
                                            <param id="0" name="Object">npcs</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="6847277991914135" type="npcs">
                                            <param id="0" name="Instance variable">talkToMe</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action behavior="npcGleam" id="0" name="Set activated" sid="2021275069123004" type="npcs">
                                            <param id="0" name="Activated">0</param>
                                        </action>
                                        <action behavior="npcGleam" id="2" name="Flash end" sid="314806702180604" type="npcs" />
                                        <action id="18" name="Set Opacity" sid="5874345687870659" type="npcs">
                                            <param id="0" name="Opacity">100</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>This works for &quot;when you stop&quot; but needs refining to use the animations</comment>
                        <event-block disabled="1" sid="1919996730985234">
                            <conditions>
                                <condition behavior="Pathfinding" id="5" name="On arrived" sid="8139008185769976" type="Holder" />
                                <condition id="-15" name="Pick nearest/furthest" sid="2432780776006987" type="npcs">
                                    <param id="0" name="Which">0</param>
                                    <param id="1" name="X">Holder.X</param>
                                    <param id="2" name="Y">Holder.Y</param>
                                </condition>
                                <condition id="-3" name="Is on-screen" sid="6561416480643852" type="npcs" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block disabled="1" sid="5707083456340499">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="7818918539240515" type="System">
                                            <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">150</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="9393264834278129" type="System">
                                            <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">-1</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="498409650698613" type="npcs">
                                            <param id="0" name="Instance variable">myChatVariable</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">-1</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="206963706502864" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="4959426990388485" type="System">
                                            <param id="0" name="Variable">getScriptKey</param>
                                            <param id="1" name="Value">eventChatArray.At(npcs.myChatVariable,currentEpisode)</param>
                                        </action>
                                        <action id="0" name="Call function" sid="8611589909233623" type="Function">
                                            <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                                            <param id="1" name="Parameter {n}">getScriptKey{###}&quot;blank&quot;{###}-1{###}0.025</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="8519515341566526" type="npcs">
                                            <param id="0" name="Instance variable">talkToMe</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action behavior="npcGleam" id="0" name="Set activated" sid="7596830415659265" type="npcs">
                                            <param id="0" name="Activated">0</param>
                                        </action>
                                        <action behavior="npcGleam" id="2" name="Flash end" sid="5899161434568821" type="npcs" />
                                        <action id="18" name="Set Opacity" sid="4797550957223541" type="npcs">
                                            <param id="0" name="Opacity">100</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="1051715160921863">
                    <conditions>
                        <condition id="0" name="On any touch start" sid="2938627760854224" type="Touch" />
                        <condition id="-8" name="Is boolean instance variable set" sid="1848677761572794" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7662582859991374" type="Holder">
                            <param id="0" name="Instance variable">wasMovingAs</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;none&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="2611773053430112">
                            <conditions>
                                <condition id="-15" name="Pick nearest/furthest" sid="4293295815991544" type="npcs">
                                    <param id="0" name="Which">0</param>
                                    <param id="1" name="X">Holder.X</param>
                                    <param id="2" name="Y">Holder.Y</param>
                                </condition>
                                <condition id="-3" name="Is on-screen" sid="5038754808817606" type="npcs" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="3617634122188553" type="System">
                                    <param id="0" name="Variable">mouseDistance</param>
                                    <param id="1" name="Value">distance(touch.X,touch.Y,npcs.X,npcs.Y)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="4176485920154792">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="6344586444182885" type="System">
                                            <param id="0" name="Variable">mouseDistance</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">80</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="1225944290490638" type="System">
                                            <param id="0" name="First value">menuWindow9.Count</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="5616559858205762" type="System">
                                            <param id="0" name="Variable">sinceLastChat</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">2</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="8435790199845593" type="System">
                                            <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">150</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="492353566456872" type="System">
                                            <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">-1</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="110413706466779" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="4516406648326662" type="System">
                                            <param id="0" name="Variable">getScriptKey</param>
                                            <param id="1" name="Value">eventChatArray.At(npcs.myChatVariable,currentEpisode)</param>
                                        </action>
                                        <action id="0" name="Call function" sid="217303616335847" type="Function">
                                            <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                                            <param id="1" name="Parameter {n}">getScriptKey{###}&quot;blank&quot;{###}-1{###}0.025</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="126949086708243" type="npcs">
                                            <param id="0" name="Instance variable">talkToMe</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action behavior="npcGleam" id="0" name="Set activated" sid="4837617797851678" type="npcs">
                                            <param id="0" name="Activated">0</param>
                                        </action>
                                        <action behavior="npcGleam" id="2" name="Flash end" sid="9342158606752173" type="npcs" />
                                        <action id="18" name="Set Opacity" sid="811942498215979" type="npcs">
                                            <param id="0" name="Opacity">100</param>
                                        </action>
                                        <action disabled="1" id="-9" name="Set value" sid="5901784317767279" type="System">
                                            <param id="0" name="Variable">sinceLastChat</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="4473473320754259">
                                            <conditions>
                                                <condition id="-1" name="Compare X" sid="8942127135807828" type="Holder">
                                                    <param id="0" name="Comparison">2</param>
                                                    <param id="1" name="X co-ordinate">npcs.X</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="8886258619659633" type="npcs">
                                                    <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="3909016823983727">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="8052597150997493" type="System" />
                                                <condition id="-1" name="Compare X" sid="1900025526818593" type="Holder">
                                                    <param id="0" name="Comparison">4</param>
                                                    <param id="1" name="X co-ordinate">npcs.X</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="1757915403063242" type="npcs">
                                                    <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="6104491531572034">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="7917109239576463" type="System" />
                                                <condition id="-2" name="Compare Y" sid="4238509406163192" type="Holder">
                                                    <param id="0" name="Comparison">4</param>
                                                    <param id="1" name="Y co-ordinate">npcs.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="6510436832140414" type="npcs">
                                                    <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="3736349021857665">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="3697938447071833" type="System" />
                                                <condition id="-2" name="Compare Y" sid="8050276162777097" type="Holder">
                                                    <param id="0" name="Comparison">3</param>
                                                    <param id="1" name="Y co-ordinate">npcs.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="199499352356944" type="npcs">
                                                    <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="7479554571789853">
                    <conditions />
                    <actions />
                </event-block>
                <event-block any="1" sid="7308870344172189">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="6105866567453704" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                        <condition id="6" name="On button pressed" sid="7781708016298008" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="7094983039014065">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="3280325775362246" type="npcs">
                                    <param id="0" name="Instance variable">talkToMe</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="1405085160542532" type="System">
                                    <param id="0" name="First value">intNumWindows</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="7579903641523321" type="System">
                                    <param id="0" name="Variable">sinceLastChat</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">2</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="9891826292504983" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="4523358336471619" type="System">
                                    <param id="0" name="Variable">getScriptKey</param>
                                    <param id="1" name="Value">eventChatArray.At(npcs.myChatVariable,currentEpisode)</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="3283275880616702" type="npcs">
                                    <param id="0" name="Instance variable">talkToMe</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="0" name="Call function" sid="4464602998626926" type="Function">
                                    <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                                    <param id="1" name="Parameter {n}">getScriptKey{###}&quot;blank&quot;{###}-1{###}0.025</param>
                                </action>
                                <action disabled="1" id="-9" name="Set value" sid="6800486643792575" type="System">
                                    <param id="0" name="Variable">sinceLastChat</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="6662702000625697">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="6735480541936206" type="Holder">
                                            <param id="0" name="Comparison">2</param>
                                            <param id="1" name="X co-ordinate">npcs.X</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Set animation" sid="8884795521297668" type="npcs">
                                            <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                            <param id="1" name="Where to start playing this animation">0</param>
                                            <param id="2" name="Blend Duration">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="8922924240760466">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="5702135301614984" type="System" />
                                        <condition id="-1" name="Compare X" sid="8580959428380028" type="Holder">
                                            <param id="0" name="Comparison">4</param>
                                            <param id="1" name="X co-ordinate">npcs.X</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Set animation" sid="719069747279099" type="npcs">
                                            <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                            <param id="1" name="Where to start playing this animation">0</param>
                                            <param id="2" name="Blend Duration">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="4636468403737643">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="259439867519607" type="System" />
                                        <condition id="-2" name="Compare Y" sid="2118376354567033" type="Holder">
                                            <param id="0" name="Comparison">4</param>
                                            <param id="1" name="Y co-ordinate">npcs.Y</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Set animation" sid="4861010555062876" type="npcs">
                                            <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                            <param id="1" name="Where to start playing this animation">0</param>
                                            <param id="2" name="Blend Duration">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="6523440425244996">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="3717556167070631" type="System" />
                                        <condition id="-2" name="Compare Y" sid="1862137706503649" type="Holder">
                                            <param id="0" name="Comparison">3</param>
                                            <param id="1" name="Y co-ordinate">npcs.Y</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Set animation" sid="492410565225829" type="npcs">
                                            <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                            <param id="1" name="Where to start playing this animation">0</param>
                                            <param id="2" name="Blend Duration">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <variable constant="0" name="mouseDistance" sid="3539108867340739" static="0" type="number">0</variable>
                <event-block disabled="1" sid="2536693951936776">
                    <conditions>
                        <condition id="0" name="On any touch start" sid="1422259731732721" type="Touch" />
                        <condition id="-15" name="Pick nearest/furthest" sid="6795167781315971" type="npcs">
                            <param id="0" name="Which">0</param>
                            <param id="1" name="X">Holder.X</param>
                            <param id="2" name="Y">Holder.Y</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="8381404317525979" type="npcs" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="809203853649509" type="System">
                            <param id="0" name="Variable">mouseDistance</param>
                            <param id="1" name="Value">distance(touch.AbsoluteX,touch.AbsoluteY,npcs.X,npcs.Y)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block disabled="1" sid="3280892834930524">
                            <conditions />
                            <actions />
                        </event-block>
                        <event-block disabled="1" sid="7633919635571421">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="4757883517149298" type="System">
                                    <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">80</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="5801855711543835" type="System">
                                    <param id="0" name="Variable">distanceBetweenPlayerAndNpc</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="7219707931049473" type="System">
                                    <param id="0" name="Variable">mouseDistance</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">80</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block disabled="1" sid="2557712545780636">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="6013014876954272" type="npcs">
                                            <param id="0" name="Instance variable">talkToMe</param>
                                        </condition>
                                        <condition disabled="1" id="-8" name="Compare two values" sid="7159854192857503" type="System">
                                            <param id="0" name="First value">intNumWindows</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action disabled="1" id="-9" name="Set value" sid="74163141385022" type="System">
                                            <param id="0" name="Variable">mouseToNpcDistance</param>
                                            <param id="1" name="Value">distance(touch.X,touch.Y,npcs.X,npcs.Y)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="7531352243052404" type="System">
                                            <param id="0" name="Variable">getScriptKey</param>
                                            <param id="1" name="Value">eventChatArray.At(npcs.myChatVariable,currentEpisode)</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="6355628205316221" type="npcs">
                                            <param id="0" name="Instance variable">talkToMe</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="5356257816082132" type="Function">
                                            <param id="0" name="Name">&quot;saySomethingBottom&quot;</param>
                                            <param id="1" name="Parameter {n}">getScriptKey{###}&quot;blank&quot;{###}-1{###}0.025</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block disabled="1" sid="4306967012416811">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="3982364211762764" type="npcs">
                            <param id="0" name="Instance variable">talkToMe</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="mouseDistanceBetweenPlayerAndNpc" sid="3393492461028155" static="0" type="number">-1</variable>
                        <event-block disabled="1" sid="8220321735181441">
                            <conditions />
                            <actions>
                                <action id="-9" name="Set value" sid="5127234240832812" type="System">
                                    <param id="0" name="Variable">getScriptKey</param>
                                    <param id="1" name="Value">eventChatArray.At(npcs.myChatVariable,currentEpisode)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block disabled="1" sid="657550817118652">
                    <conditions>
                        <condition behavior="npcMoveTo" id="3" name="Is moving" sid="8411197290946472" type="npcs" />
                    </conditions>
                    <actions />
                </event-block>
                <event-block disabled="1" sid="56002433098196">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="3209189820101995" type="System" />
                        <condition id="-8" name="Is boolean instance variable set" sid="6045681167010387" type="npcs">
                            <param id="0" name="Instance variable">randomizeMe</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="6125674264189802" type="npcs">
                            <param id="0" name="Instance variable">familyCharMapToAppend</param>
                            <param id="1" name="Value">str(random(50,80))</param>
                        </action>
                        <action id="9" name="Remove all character maps" sid="2150758897184585" type="npcs" />
                        <action id="10" name="Append character map" sid="2780850255670904" type="npcs">
                            <param id="0" name="Character Map">npcs.familyCharMapToAppend</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="6599515484404659" title="tileWalkingAround">
            <sub-events>
                <variable constant="0" name="playerTileForNPCX" sid="9685604847096869" static="0" type="number">0</variable>
                <variable constant="0" name="playerTileForNPCY" sid="3829498118512928" static="0" type="number">0</variable>
                <variable constant="0" name="playerOverEventTileIdForNPCChat" sid="8210689448844167" static="1" type="number">-1</variable>
                <variable constant="0" name="npcxTile" sid="1285182455259026" static="0" type="number">0</variable>
                <variable constant="0" name="npcyTile" sid="514809137697904" static="0" type="number">0</variable>
                <comment>These variables above work when they are static but trying to undo that so they reset themselves, now resetting when not overlapping</comment>
                <comment>In the layout grid X is the tile ID of the tile and is the row, Y is the currentEpisode so that the layout to which they go can change easily by episode</comment>
                <event-block sid="7055328716202219">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="1723223112999277" type="Holder">
                            <param id="0" name="Object">eventGridNPCFamily</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="4671936484449155" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="1587179733054048" type="eventGridNPCFamily">
                            <param id="0" name="Instance variable">purpose</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;npcChat&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="4452638486604395" type="System">
                            <param id="0" name="Variable">playerTileForNPCX</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.X)</param>
                        </action>
                        <action id="-9" name="Set value" sid="9089298052923322" type="System">
                            <param id="0" name="Variable">playerTileForNPCY</param>
                            <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(Holder.Y)</param>
                        </action>
                        <action id="-9" name="Set value" sid="7458653789031189" type="System">
                            <param id="0" name="Variable">playerOverEventTileIdForNPCChat</param>
                            <param id="1" name="Value">eventGridNPCFamily.TileAt(playerTileForNPCX, playerTileForNPCY)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Add something here for detecting this on main player only</comment>
                        <event-block sid="5998586535275668">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="2950594220912685" type="System">
                                    <param id="0" name="Variable">playerOverEventTileIdForNPCChat</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="63931871514397">
                                    <conditions />
                                    <actions />
                                    <sub-events>
                                        <event-block sid="6040283015413861">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="2413107861941747" type="PlayerFamily">
                                                    <param id="0" name="Instance variable">StaticNPC</param>
                                                </condition>
                                                <condition id="-15" name="Pick nearest/furthest" sid="9433920932471104" type="PlayerFamily">
                                                    <param id="0" name="Which">0</param>
                                                    <param id="1" name="X">Holder.X</param>
                                                    <param id="2" name="Y">Holder.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="5743009375485978" type="System">
                                                    <param id="0" name="Variable">npcxTile</param>
                                                    <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(PlayerFamily.X)</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="1304475049543807" type="System">
                                                    <param id="0" name="Variable">npcyTile</param>
                                                    <param id="1" name="Value">eventGridNPCFamily.PositionToTileX(PlayerFamily.Y)</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="4247435079388512">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="5187199825556771" type="System">
                                                            <param id="0" name="First value">playerTileForNPCX</param>
                                                            <param id="1" name="Comparison">4</param>
                                                            <param id="2" name="Second value">npcxTile</param>
                                                        </condition>
                                                        <condition id="-8" name="Compare two values" sid="1041654645985001" type="System">
                                                            <param id="0" name="First value">playerTileForNPCY</param>
                                                            <param id="1" name="Comparison">5</param>
                                                            <param id="2" name="Second value">npcyTile</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="1597438938987742" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">0</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="6776578453708664">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="3389183223130179" type="System" />
                                                        <condition id="-8" name="Compare two values" sid="146423761114405" type="System">
                                                            <param id="0" name="First value">playerTileForNPCX</param>
                                                            <param id="1" name="Comparison">2</param>
                                                            <param id="2" name="Second value">npcxTile</param>
                                                        </condition>
                                                        <condition id="-8" name="Compare two values" sid="8822233813135008" type="System">
                                                            <param id="0" name="First value">playerTileForNPCY</param>
                                                            <param id="1" name="Comparison">5</param>
                                                            <param id="2" name="Second value">npcyTile</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="3995134416821599" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">0</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <comment>needs some tweaking</comment>
                                                <event-block sid="1624920311370993">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="4181876124306706" type="System" />
                                                        <condition id="-8" name="Compare two values" sid="4175704504052772" type="System">
                                                            <param id="0" name="First value">playerTileForNPCX</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">npcxTile</param>
                                                        </condition>
                                                        <condition id="-8" name="Compare two values" sid="7010755305599658" type="System">
                                                            <param id="0" name="First value">playerTileForNPCY</param>
                                                            <param id="1" name="Comparison">3</param>
                                                            <param id="2" name="Second value">npcyTile</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="4179067308974939" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">0</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="4212019740827006">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="2476181663099293" type="System" />
                                                        <condition id="-8" name="Compare two values" sid="8577797731230016" type="System">
                                                            <param id="0" name="First value">playerTileForNPCX</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">npcxTile</param>
                                                        </condition>
                                                        <condition id="-8" name="Compare two values" sid="6017203776347271" type="System">
                                                            <param id="0" name="First value">playerTileForNPCY</param>
                                                            <param id="1" name="Comparison">4</param>
                                                            <param id="2" name="Second value">npcyTile</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="815617798785707" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">0</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="7291233402174711" title="allMovement">
            <sub-events>
                <event-group description="" sid="6457230622022201" title="SetToTile">
                    <sub-events>
                        <event-block sid="9423023743444539">
                            <conditions>
                                <condition id="0" name="On function" sid="1301869711677812" type="Function">
                                    <param id="0" name="Name">&quot;positionMeToTile&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="6377256112942181">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="6441139197561173" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="2336162488004854" type="allTileMaps">
                                            <param id="0" name="Instance variable">tileInstanceByName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="2590842350269513" type="Holder">
                                            <param id="0" name="X">allTileMaps.TileToPositionX(Function.Param(2))</param>
                                            <param id="1" name="Y">allTileMaps.TileToPositionY(Function.Param(3))</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block disabled="1" sid="4378124090988077">
                            <conditions>
                                <condition id="0" name="On function" sid="7774392005532168" type="Function">
                                    <param id="0" name="Name">&quot;moveMeRelative&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block disabled="1" sid="4674782045640962">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1193101651747281" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="8167818142407827" type="allTileMaps">
                                            <param id="0" name="Instance variable">tileInstanceByName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action disabled="1" id="-3" name="Set position" sid="9184800044262084" type="Holder">
                                            <param id="0" name="X">allTileMaps.TileToPositionX(Function.Param(2))</param>
                                            <param id="1" name="Y">allTileMaps.TileToPositionY(Function.Param(3))</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <variable constant="0" name="currentTileX" sid="1208048838774497" static="0" type="number">0</variable>
                                        <variable constant="0" name="currentTileY" sid="258778482509997" static="0" type="number">0</variable>
                                        <event-block disabled="1" sid="966079741032333">
                                            <conditions />
                                            <actions>
                                                <action id="-9" name="Set value" sid="6543233555701215" type="System">
                                                    <param id="0" name="Variable">currentTileX</param>
                                                    <param id="1" name="Value">allTileMaps.PositionToTileX(Holder.X)</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="7743846700744015" type="System">
                                                    <param id="0" name="Variable">currentTileY</param>
                                                    <param id="1" name="Value">allTileMaps.PositionToTileX(Holder.Y)</param>
                                                </action>
                                                <action id="0" name="Call function" sid="3695481401598814" type="Function">
                                                    <param id="0" name="Name">&quot;moveToTile&quot;</param>
                                                    <param id="1" name="Parameter {n}">currentTileX + Function.Param(2){###}currentTileY + Function.Param(3)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="9692380364834739">
                            <conditions>
                                <condition id="0" name="On function" sid="3894738497579606" type="Function">
                                    <param id="0" name="Name">&quot;positionMeToTileAndAnimate&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="3565065852031319">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="517224539218369" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="3807173525767758" type="allTileMaps">
                                            <param id="0" name="Instance variable">tileInstanceByName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="1794617806879328" type="Holder">
                                            <param id="0" name="X">allTileMaps.TileToPositionX(Function.Param(2))</param>
                                            <param id="1" name="Y">allTileMaps.TileToPositionY(Function.Param(3))</param>
                                        </action>
                                        <action id="0" name="Call function" sid="9191334907538143" type="Function">
                                            <param id="0" name="Name">&quot;animate&quot;</param>
                                            <param id="1" name="Parameter {n}">Function.Param(0){###}Function.Param(4)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="9731494176403133">
                            <conditions>
                                <condition id="0" name="On function" sid="2983845754683363" type="Function">
                                    <param id="0" name="Name">&quot;positionMeToTileMiddle&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="6339273039049599">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="2244293188876579" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="789367552982505" type="allTileMaps">
                                            <param id="0" name="Instance variable">tileInstanceByName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="4122609884632983" type="Holder">
                                            <param id="0" name="X">allTileMaps.TileToPositionX(Function.Param(2)) - 16</param>
                                            <param id="1" name="Y">allTileMaps.TileToPositionY(Function.Param(3)) - 16</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="3036490640552137">
                    <conditions>
                        <condition id="0" name="On function" sid="4279823425052565" type="Function">
                            <param id="0" name="Name">&quot;moveMeRel&quot;</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="2534156333521645" type="Holder">
                            <param id="0" name="Instance variable">whoFollowsMe</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Function.Param(0)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="1293827367022723" type="allTileMaps">
                            <param id="0" name="Instance variable">tileInstanceByName</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">&quot;&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="relDirection" sid="2174365372083887" static="0" type="text">right</variable>
                        <event-block sid="4609394515987918">
                            <conditions />
                            <actions>
                                <action id="-9" name="Set value" sid="6514793344137632" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Value">Function.Param(2)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7704885752527411">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="2377231367067184" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;left&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="1207062530463023" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile + Function.Param(1))</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7083716632125771">
                            <conditions>
                                <condition id="-22" name="Else" sid="1719738181748663" type="System" />
                                <condition id="-14" name="Compare variable" sid="969282800156137" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;right&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="999538247076817" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile - Function.Param(1))</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7879004782058115">
                            <conditions>
                                <condition id="-22" name="Else" sid="1218954070632427" type="System" />
                                <condition id="-14" name="Compare variable" sid="5594074147866878" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;down&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="9858412741431172" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile)</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile + Function.Param(1))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="974789422950463">
                            <conditions>
                                <condition id="-22" name="Else" sid="1994278383466632" type="System" />
                                <condition id="-14" name="Compare variable" sid="113498059014882" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;up&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="2846703639235084" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile)</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile - Function.Param(1))</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>&quot;moveMainPlayerRel&quot; is still not working correclty, though moveMeRel seems to be</comment>
                <event-block sid="4604139785415432">
                    <conditions>
                        <condition id="0" name="On function" sid="1583813699379992" type="Function">
                            <param id="0" name="Name">&quot;moveMainPlayerRel&quot;</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="5821409252670326" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="1679173926361896" type="allTileMaps">
                            <param id="0" name="Instance variable">tileInstanceByName</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">&quot;&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="relDirection" sid="5685547643639454" static="0" type="text">right</variable>
                        <event-block sid="9475999063548934">
                            <conditions />
                            <actions>
                                <action id="-9" name="Set value" sid="8800087375512046" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Value">Function.Param(1)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7254758926974299">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="9118878894213077" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;left&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="297147349839065" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile + Function.Param(0))</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3606263404565296">
                            <conditions>
                                <condition id="-22" name="Else" sid="7378670116931871" type="System" />
                                <condition id="-14" name="Compare variable" sid="5439364677393522" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;right&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="7901313117285501" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile - Function.Param(0))</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6193993021718048">
                            <conditions>
                                <condition id="-22" name="Else" sid="9603284101328114" type="System" />
                                <condition id="-14" name="Compare variable" sid="6999401101694821" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;down&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="4518531751793979" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile)</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile + Function.Param(0))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4756668685178014">
                            <conditions>
                                <condition id="-22" name="Else" sid="4674118926941695" type="System" />
                                <condition id="-14" name="Compare variable" sid="1507685820346327" type="System">
                                    <param id="0" name="Variable">relDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;up&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="9152239205797179" type="Holder">
                                    <param id="0" name="X">allTileMaps.TileToPositionX(holder.myXTile)</param>
                                    <param id="1" name="Y">allTileMaps.TileToPositionX(holder.myYTile - Function.Param(0))</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6055979059760333">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="3956626222194741" type="Keyboard">
                            <param id="0" name="Key">73 (I)</param>
                        </condition>
                        <condition id="-18" name="Is in preview" sid="6908781566140479" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="1605998777998429" type="Function">
                            <param id="0" name="Name">&quot;moveMainPlayerRel&quot;</param>
                            <param id="1" name="Parameter {n}">1{###}&quot;up&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6990114641127388">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="189719816010501" type="Keyboard">
                            <param id="0" name="Key">74 (J)</param>
                        </condition>
                        <condition id="-18" name="Is in preview" sid="8226184434310197" type="System" />
                    </conditions>
                    <actions>
                        <action disabled="1" id="0" name="Call function" sid="6657919197226865" type="Function">
                            <param id="0" name="Name">&quot;moveMeRel&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;senenle&quot;{###}3{###}&quot;down&quot;</param>
                        </action>
                        <action id="0" name="Call function" sid="4805796628981294" type="Function">
                            <param id="0" name="Name">&quot;moveMainPlayerRel&quot;</param>
                            <param id="1" name="Parameter {n}">1{###}&quot;down&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9759713912354987">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="3670279720568644" type="Keyboard">
                            <param id="0" name="Key">75 (K)</param>
                        </condition>
                        <condition id="-18" name="Is in preview" sid="3385194240701207" type="System" />
                    </conditions>
                    <actions>
                        <action disabled="1" id="0" name="Call function" sid="5895381414053037" type="Function">
                            <param id="0" name="Name">&quot;moveMeRel&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;senenle&quot;{###}3{###}&quot;right&quot;</param>
                        </action>
                        <action id="0" name="Call function" sid="1671230613812644" type="Function">
                            <param id="0" name="Name">&quot;moveMainPlayerRel&quot;</param>
                            <param id="1" name="Parameter {n}">1{###}&quot;right&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1047202918114939">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="5680581161026836" type="Keyboard">
                            <param id="0" name="Key">76 (L)</param>
                        </condition>
                        <condition id="-18" name="Is in preview" sid="2640094024079793" type="System" />
                    </conditions>
                    <actions>
                        <action disabled="1" id="0" name="Call function" sid="3299482187296097" type="Function">
                            <param id="0" name="Name">&quot;moveMeRel&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;senenle&quot;{###}3{###}&quot;left&quot;</param>
                        </action>
                        <action id="0" name="Call function" sid="2266003998228078" type="Function">
                            <param id="0" name="Name">&quot;moveMainPlayerRel&quot;</param>
                            <param id="1" name="Parameter {n}">1{###}&quot;left&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-group bookmark="1" description="" sid="1030058647308264" title="mousePathFind">
                    <sub-events>
                        <event-block sid="5234663094149282">
                            <conditions>
                                <condition behavior="Pathfinding" id="4" name="Is moving along path" sid="9517938603942667" type="Holder" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="9326302893865451" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Value">&quot;pathFind&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block any="1" sid="6403224940697152">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="5586115055522737" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;pathFind&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="3074839104238935" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;none&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="1151886928837533">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="1179628004585998" type="Holder">
                                                    <param id="0" name="Instance variable">allowMeToMove</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block any="1" sid="6553465355636454">
                                                    <conditions>
                                                        <condition id="-21" name="Is between values" sid="3683171913998886" type="System">
                                                            <param id="0" name="Value">Holder.Pathfinding.MovingAngle</param>
                                                            <param id="1" name="Lower bound">315</param>
                                                            <param id="2" name="Upper bound">360</param>
                                                        </condition>
                                                        <condition id="-21" name="Is between values" sid="319218410051387" type="System">
                                                            <param id="0" name="Value">Holder.Pathfinding.MovingAngle</param>
                                                            <param id="1" name="Lower bound">0</param>
                                                            <param id="2" name="Upper bound">45</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="4113143690023595">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="9374904296111934" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="4055823404355938" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="238798102156878">
                                                    <conditions>
                                                        <condition id="-21" name="Is between values" sid="5028457868017044" type="System">
                                                            <param id="0" name="Value">Holder.Pathfinding.MovingAngle</param>
                                                            <param id="1" name="Lower bound">45</param>
                                                            <param id="2" name="Upper bound">135</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="9066627159859616">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="2705982942458667" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="6790397352206313" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="210693427249404">
                                                    <conditions>
                                                        <condition id="-21" name="Is between values" sid="5991461347821066" type="System">
                                                            <param id="0" name="Value">Holder.Pathfinding.MovingAngle</param>
                                                            <param id="1" name="Lower bound">135</param>
                                                            <param id="2" name="Upper bound">225</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="9253107871464086">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="2013884028209927" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="4441506826183506" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="2559087580149074">
                                                    <conditions>
                                                        <condition id="-21" name="Is between values" sid="7485575593045161" type="System">
                                                            <param id="0" name="Value">Holder.Pathfinding.MovingAngle</param>
                                                            <param id="1" name="Lower bound">225</param>
                                                            <param id="2" name="Upper bound">315</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="5447965667680193">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="9851623253552212" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="630708290526545" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>Diagonals need to be disabled in pathfinding for the Holder for this to work appropriately Otherwise it breaks the angle to animation detection</comment>
                        <event-block sid="4682186963148485">
                            <conditions>
                                <condition id="1" name="On any touch end" sid="5719031507932672" type="Touch" />
                                <condition id="-14" name="Compare variable" sid="230987446673452" type="System">
                                    <param id="0" name="Variable">saveToggle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="8847661922251118">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="6117388951530883" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;pathFind&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="4928120161021294" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;none&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="2765448118830534">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="8954667230719416" type="Holder">
                                                    <param id="0" name="Instance variable">allowMeToMove</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Pathfinding" id="0" name="Find path" sid="1428966294059844" type="Holder">
                                                    <param id="0" name="X">Touch.X</param>
                                                    <param id="1" name="Y">Touch.Y</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="5485930405623452">
                            <conditions>
                                <condition behavior="Pathfinding" id="0" name="On path found" sid="6710310025402374" type="Holder" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="9468818537841391">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1243886158634657" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;pathFind&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="2272487063610282" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;none&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="8630807433479264">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="3048607540172677" type="Holder">
                                                    <param id="0" name="Instance variable">allowMeToMove</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="2960791505567348" type="Holder">
                                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                                    <param id="1" name="Value">&quot;pathFind&quot;</param>
                                                </action>
                                                <action behavior="Pathfinding" id="1" name="Move along path" sid="5393356405541651" type="Holder" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>This should play an ERR noise for path not found</comment>
                        <event-block sid="666054630063736">
                            <conditions>
                                <condition behavior="Pathfinding" id="1" name="On failed to find path" sid="1475219225169032" type="Holder" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="7960710923308974" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Value">&quot;none&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" sid="696587225686012">
                            <conditions>
                                <condition behavior="Pathfinding" id="5" name="On arrived" sid="4726596831526852" type="Holder" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="4821305241441368">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="3912772915093472" type="Holder">
                                            <param id="0" name="Instance variable">allowMeToMove</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="7977038235066252" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Value">&quot;none&quot;</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="3142452091897567">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="3482575343679269" type="PlayerFamily">
                                                    <param id="0" name="Instance variable">myName</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="4127498027608815">
                                                    <conditions>
                                                        <condition id="4" name="Compare Current Animation" sid="4437674458022384" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="3666436780215547" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">4</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="1053241933949441">
                                                    <conditions>
                                                        <condition id="4" name="Compare Current Animation" sid="3293840858676523" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="5200006132816746" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">4</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="2202773478684093">
                                                    <conditions>
                                                        <condition id="4" name="Compare Current Animation" sid="4296010799223326" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="2793548539176641" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">4</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="4805701982224877">
                                                    <conditions>
                                                        <condition id="4" name="Compare Current Animation" sid="2360841982066323" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set animation" sid="55101571382441" type="PlayerFamily">
                                                            <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                            <param id="1" name="Where to start playing this animation">4</param>
                                                            <param id="2" name="Blend Duration">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="1395161293000988" title="keyboardTriggers">
                    <sub-events>
                        <event-block any="1" sid="1727787004943855">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="121662473047353" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;none&quot;</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="6140159942421083" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;8direction&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="5171028069268857">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="9876768965767739" type="Holder">
                                            <param id="0" name="Instance variable">allowMeToMove</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block any="1" sid="1795006814538158">
                                            <conditions>
                                                <condition id="2" name="Key is down" sid="3359155538705184" type="Keyboard">
                                                    <param id="0" name="Key">87 (W)</param>
                                                </condition>
                                                <condition id="2" name="Key is down" sid="6674365370903759" type="Keyboard">
                                                    <param id="0" name="Key">38 (Up arrow)</param>
                                                </condition>
                                                <condition id="3" name="Is button down" sid="9258051162715729" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Button">12</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="6221606092689591" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">1</param>
                                                    <param id="2" name="Comparison">2</param>
                                                    <param id="3" name="Value">-25</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="2973771599924562" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">3</param>
                                                    <param id="2" name="Comparison">2</param>
                                                    <param id="3" name="Value">-25</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="6473808678602648" type="Holder">
                                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                                    <param id="1" name="Value">&quot;8direction&quot;</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="3065308956610751">
                                                    <conditions />
                                                    <actions>
                                                        <action behavior="8Direction" id="7" name="Simulate control" sid="5700450547991479" type="Holder">
                                                            <param id="0" name="Control">2</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="5640297006232165">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="7038015807657577" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="894568886591077" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block any="1" sid="6629356392149337">
                                            <conditions>
                                                <condition id="2" name="Key is down" sid="8341365409923747" type="Keyboard">
                                                    <param id="0" name="Key">65 (A)</param>
                                                </condition>
                                                <condition id="2" name="Key is down" sid="8954181708748434" type="Keyboard">
                                                    <param id="0" name="Key">37 (Left arrow)</param>
                                                </condition>
                                                <condition id="3" name="Is button down" sid="8573572119057234" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Button">14</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="8484709135094162" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">0</param>
                                                    <param id="2" name="Comparison">2</param>
                                                    <param id="3" name="Value">-25</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="6349881604107245" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">2</param>
                                                    <param id="2" name="Comparison">2</param>
                                                    <param id="3" name="Value">-25</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="2940727131861953" type="Holder">
                                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                                    <param id="1" name="Value">&quot;8direction&quot;</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="2951112109882718">
                                                    <conditions />
                                                    <actions>
                                                        <action behavior="8Direction" id="7" name="Simulate control" sid="8641909006114876" type="Holder">
                                                            <param id="0" name="Control">0</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="1021208400208935">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="9808485487432497" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="1805357358995628" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block any="1" sid="3271295254473631">
                                            <conditions>
                                                <condition id="2" name="Key is down" sid="1249771496167808" type="Keyboard">
                                                    <param id="0" name="Key">83 (S)</param>
                                                </condition>
                                                <condition id="2" name="Key is down" sid="3385316913102851" type="Keyboard">
                                                    <param id="0" name="Key">40 (Down arrow)</param>
                                                </condition>
                                                <condition id="3" name="Is button down" sid="48020615664628" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Button">13</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="6801946120498337" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">1</param>
                                                    <param id="2" name="Comparison">4</param>
                                                    <param id="3" name="Value">25</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="3952642266466934" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">3</param>
                                                    <param id="2" name="Comparison">4</param>
                                                    <param id="3" name="Value">25</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="2888177169699516" type="Holder">
                                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                                    <param id="1" name="Value">&quot;8direction&quot;</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="7901847958327817">
                                                    <conditions />
                                                    <actions>
                                                        <action behavior="8Direction" id="7" name="Simulate control" sid="1410057171493738" type="Holder">
                                                            <param id="0" name="Control">3</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="8919953446365193">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="2960592019503453" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="55282034609191" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block any="1" sid="5153237106130411">
                                            <conditions>
                                                <condition id="2" name="Key is down" sid="533932733549405" type="Keyboard">
                                                    <param id="0" name="Key">68 (D)</param>
                                                </condition>
                                                <condition id="2" name="Key is down" sid="8063533104042782" type="Keyboard">
                                                    <param id="0" name="Key">39 (Right arrow)</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="2616331917789146" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">0</param>
                                                    <param id="2" name="Comparison">4</param>
                                                    <param id="3" name="Value">25</param>
                                                </condition>
                                                <condition id="5" name="Compare axis" sid="8421061129937005" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Axis">2</param>
                                                    <param id="2" name="Comparison">4</param>
                                                    <param id="3" name="Value">25</param>
                                                </condition>
                                                <condition id="3" name="Is button down" sid="2445520631578644" type="Gamepad">
                                                    <param id="0" name="Gamepad">0</param>
                                                    <param id="1" name="Button">15</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="7569235888843397" type="Holder">
                                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                                    <param id="1" name="Value">&quot;8direction&quot;</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="8654655723464339">
                                                    <conditions />
                                                    <actions>
                                                        <action behavior="8Direction" id="7" name="Simulate control" sid="3044669272347909" type="Holder">
                                                            <param id="0" name="Control">1</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="9329377814621622">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="8823184227077537" type="PlayerFamily">
                                                                    <param id="0" name="Instance variable">myName</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="1362898950782724" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group bookmark="1" description="" sid="718219052295772" title="allowMove">
                    <sub-events>
                        <event-block sid="419195170611185">
                            <conditions>
                                <condition id="0" name="On function" sid="3479046282936318" type="Function">
                                    <param id="0" name="Name">&quot;pauseMove&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Set group active" sid="9181131533109063" type="System">
                                    <param id="0" name="Group name">&quot;keyboardTriggers&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action id="-12" name="Set group active" sid="8768307933948027" type="System">
                                    <param id="0" name="Group name">&quot;mousePathFind&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="4885066543788682" type="System">
                                    <param id="0" name="Seconds">Function.Param(0)</param>
                                </action>
                                <action id="-12" name="Set group active" sid="8349801072435364" type="System">
                                    <param id="0" name="Group name">&quot;keyboardTriggers&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-12" name="Set group active" sid="8130254284823723" type="System">
                                    <param id="0" name="Group name">&quot;mousePathFind&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9492363260893618">
                            <conditions>
                                <condition id="0" name="On function" sid="7432216726997568" type="Function">
                                    <param id="0" name="Name">&quot;disableExcept&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="5580014087756914">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="5601131821084977" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="8" name="Set enabled" sid="8804957667390046" type="Holder">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="6605322282984334" type="Holder">
                                            <param id="0" name="Set">1</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="1044972698673758" type="Holder">
                                            <param id="0" name="Instance variable">allowMeToMove</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="2993652730030705">
                                    <conditions>
                                        <condition id="-7" inverted="1" name="Compare instance variable" sid="657138634833236" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="8" name="Set enabled" sid="5348645414686035" type="Holder">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="7322589963940615" type="Holder">
                                            <param id="0" name="Set">0</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="1649905079543562" type="Holder">
                                            <param id="0" name="Instance variable">allowMeToMove</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="5215607652903708">
                            <conditions>
                                <condition id="0" name="On function" sid="2010718896970761" type="Function">
                                    <param id="0" name="Name">&quot;enableSinglePath&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="2218807068964846">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1002693236914999" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="8" name="Set enabled" sid="9422917888096277" type="Holder">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="8833273387863349" type="Holder">
                                            <param id="0" name="Set">1</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="7668089767913412" type="Holder">
                                            <param id="0" name="Instance variable">allowMeToMove</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="5536876238674103">
                            <conditions>
                                <condition id="0" name="On function" sid="4341350613368327" type="Function">
                                    <param id="0" name="Name">&quot;disableSinglePath&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="2843790716278245">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="9488093423090409" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="8" name="Set enabled" sid="1239851878071038" type="Holder">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="5487993582324712" type="Holder">
                                            <param id="0" name="Set">0</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="5778548746622077" type="Holder">
                                            <param id="0" name="Instance variable">allowMeToMove</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="6119560882579784">
                            <conditions>
                                <condition id="0" name="On function" sid="7455851170598763" type="Function">
                                    <param id="0" name="Name">&quot;disableAll&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="720545096583987">
                                    <conditions />
                                    <actions>
                                        <action behavior="8Direction" id="8" name="Set enabled" sid="3545045820363248" type="Holder">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="5599477067500308" type="Holder">
                                            <param id="0" name="Set">0</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="7197013363104622" type="Holder">
                                            <param id="0" name="Instance variable">allowMeToMove</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group bookmark="1" description="" sid="8399558559117174" title="storyMoveTo">
                    <sub-events>
                        <event-block sid="1240490914709363">
                            <conditions>
                                <condition id="0" name="On function" sid="2823084994848187" type="Function">
                                    <param id="0" name="Name">&quot;moveToEvent&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="2460642631089846">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1097158076245011" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="1813919240049833" type="EventBoxes">
                                            <param id="0" name="Instance variable">eventNum</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="8053376964015473" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Value">&quot;storyMove&quot;</param>
                                        </action>
                                        <action behavior="StoryMoveTo" id="0" name="Set enabled" sid="8427970834097804" type="Holder">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="StoryMoveTo" id="6" name="Move to object" sid="344822154983015" type="Holder">
                                            <param id="0" name="Target">EventBoxes</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="7776394401365308">
                                            <conditions>
                                                <condition id="1" name="Compare parameter" sid="5005938369491695" type="Function">
                                                    <param id="0" name="Index">2</param>
                                                    <param id="1" name="Comparison">1</param>
                                                    <param id="2" name="Value">&quot;Keep&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Destroy" sid="6487699257605726" type="EventBoxes" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="412546747814522">
                            <conditions>
                                <condition id="0" name="On function" sid="1021592700575243" type="Function">
                                    <param id="0" name="Name">&quot;moveToTile&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="1073272258653873">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="4907116526539332" type="Holder">
                                            <param id="0" name="Instance variable">whoFollowsMe</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(0)</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="1398035567067003" type="allTileMaps">
                                            <param id="0" name="Instance variable">tileInstanceByName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="3384257910784489" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Value">&quot;storyMove&quot;</param>
                                        </action>
                                        <action behavior="StoryMoveTo" id="0" name="Set enabled" sid="976892598739511" type="Holder">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="StoryMoveTo" id="4" name="Move to XY" sid="7372524639351132" type="Holder">
                                            <param id="0" name="X">allTileMaps.TileToPositionX(Function.Param(2))</param>
                                            <param id="1" name="Y">allTileMaps.TileToPositionY(Function.Param(3))</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="9226787491814303">
                            <conditions>
                                <condition behavior="StoryMoveTo" id="0" name="On hit target position" sid="760526718165401" type="Holder" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="1975565045569044" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Value">&quot;none&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="2826027823469835">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="2449526634375416" type="PlayerFamily">
                                            <param id="0" name="Instance variable">myName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">holder.whoFollowsMe</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="721459343554365">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="7625451173303687" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="2890639218199515" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">4</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="5945293910489071">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="1767294470513794" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="6981309017680032" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">4</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="1216411224123342">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="6727003360253174" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="7718471198022138" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">4</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="6046010338185355">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="1544817047052092" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="7771800458102416" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">4</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="3036742476069893">
                            <conditions>
                                <condition behavior="StoryMoveTo" id="3" name="Is moving" sid="1025119580806788" type="Holder" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="7454644096628122" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Value">&quot;storyMove&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block any="1" sid="9186908290001045">
                                    <conditions>
                                        <condition id="-21" name="Is between values" sid="5662630686328737" type="System">
                                            <param id="0" name="Value">Holder.StoryMoveTo.MovingAngle</param>
                                            <param id="1" name="Lower bound">315</param>
                                            <param id="2" name="Upper bound">360</param>
                                        </condition>
                                        <condition id="-21" name="Is between values" sid="3588673153090542" type="System">
                                            <param id="0" name="Value">Holder.StoryMoveTo.MovingAngle</param>
                                            <param id="1" name="Lower bound">0</param>
                                            <param id="2" name="Upper bound">45</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="8901418113350376">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="2042758411660733" type="PlayerFamily">
                                                    <param id="0" name="Instance variable">myName</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="8248111970981265" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="1851871434534175">
                                    <conditions>
                                        <condition id="-21" name="Is between values" sid="5913965761654599" type="System">
                                            <param id="0" name="Value">Holder.StoryMoveTo.MovingAngle</param>
                                            <param id="1" name="Lower bound">45</param>
                                            <param id="2" name="Upper bound">135</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="9800368220057407">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="7447977422466716" type="PlayerFamily">
                                                    <param id="0" name="Instance variable">myName</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="4700226688630832" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="6170343949880448">
                                    <conditions>
                                        <condition id="-21" name="Is between values" sid="8951060707014757" type="System">
                                            <param id="0" name="Value">Holder.StoryMoveTo.MovingAngle</param>
                                            <param id="1" name="Lower bound">135</param>
                                            <param id="2" name="Upper bound">225</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="6385702078442438">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="8547231463470508" type="PlayerFamily">
                                                    <param id="0" name="Instance variable">myName</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="263970361094545" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="8388900007789498">
                                    <conditions>
                                        <condition id="-21" name="Is between values" sid="8656408130867033" type="System">
                                            <param id="0" name="Value">Holder.StoryMoveTo.MovingAngle</param>
                                            <param id="1" name="Lower bound">225</param>
                                            <param id="2" name="Upper bound">315</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="7272956965947627">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="6829453801889814" type="PlayerFamily">
                                                    <param id="0" name="Instance variable">myName</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="4695808458170212" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">1</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="5563955324210547" title="noMovementConflict">
                    <sub-events>
                        <event-block sid="9152960150571868">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="3391727557089379" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;pathFind&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="0" name="Stop" sid="7251221508386839" type="Holder" />
                                <action behavior="StoryMoveTo" id="9" name="Stop" sid="9499678580913353" type="Holder" />
                            </actions>
                            <sub-events>
                                <event-block sid="4204990533529382">
                                    <conditions>
                                        <condition behavior="Pathfinding" id="6" name="Compare speed" sid="1374647391403025" type="Holder">
                                            <param id="0" name="Comparison">0</param>
                                            <param id="1" name="Speed">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="348437178710684" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Value">&quot;none&quot;</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="2029068661590923">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="8758284204889248" type="Holder">
                                                    <param id="0" name="Instance variable">allowMeToMove</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="3742413677951225">
                                                    <conditions>
                                                        <condition id="-7" name="Compare instance variable" sid="5071270564525904" type="PlayerFamily">
                                                            <param id="0" name="Instance variable">myName</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="6472016835246117">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="8902541984325219" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="5916093543237596" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="8567128958555921">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="9846016603956033" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="8806204808513198" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="6135594658931854">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="3054406454317044" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="8108374900447862" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="1690789046609409">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="4556193786637244" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="1816015220798596" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="368070872342221">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="7484901281798295" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;8direction&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="2" name="Stop" sid="5187506488469718" type="Holder" />
                                <action behavior="StoryMoveTo" id="9" name="Stop" sid="2969413259445863" type="Holder" />
                            </actions>
                            <sub-events>
                                <event-block sid="377322901671935">
                                    <conditions>
                                        <condition behavior="8Direction" id="1" name="Compare speed" sid="7772676015225517" type="Holder">
                                            <param id="0" name="Comparison">0</param>
                                            <param id="1" name="Speed">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="7984676975297775" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Value">&quot;none&quot;</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="3494814778577497">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="6362192315958693" type="Holder">
                                                    <param id="0" name="Instance variable">allowMeToMove</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="1573056701407742">
                                                    <conditions>
                                                        <condition id="-7" name="Compare instance variable" sid="1530627722813166" type="PlayerFamily">
                                                            <param id="0" name="Instance variable">myName</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="8939293901264571">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="3065870190059921" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="2216984423542577" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="3420270761426688">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="1985069121264198" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="8553277611221641" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="3875067504564722">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="3115731884789808" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="9663912435569967" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="7726473119054519">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="7650052974158299" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="8113697645341238" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="7605483865334401">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="2501487545474489" type="Holder">
                                    <param id="0" name="Instance variable">wasMovingAs</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;storyMove&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="2" name="Stop" sid="3521461437945509" type="Holder" />
                                <action behavior="8Direction" id="0" name="Stop" sid="8841780689975647" type="Holder" />
                            </actions>
                            <sub-events>
                                <event-block sid="9802464190519827">
                                    <conditions>
                                        <condition behavior="StoryMoveTo" id="1" name="Compare speed" sid="1262674957218922" type="Holder">
                                            <param id="0" name="Comparison">0</param>
                                            <param id="1" name="Speed">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="698188331977134" type="Holder">
                                            <param id="0" name="Instance variable">wasMovingAs</param>
                                            <param id="1" name="Value">&quot;none&quot;</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="7523172201440494">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="8405417725826216" type="Holder">
                                                    <param id="0" name="Instance variable">allowMeToMove</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="688955629985657">
                                                    <conditions>
                                                        <condition id="-7" name="Compare instance variable" sid="6195184445862956" type="PlayerFamily">
                                                            <param id="0" name="Instance variable">myName</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">Holder.whoFollowsMe</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="2495350776148644">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="6657257142248587" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="9194295279277565" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="2158017384039355">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="6002195972439291" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="48060673202507" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="3271478830177374">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="5891417189542064" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="1490116269463289" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="1364020536349503">
                                                            <conditions>
                                                                <condition id="4" name="Compare Current Animation" sid="1718625843012838" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Set animation" sid="5599593544031029" type="PlayerFamily">
                                                                    <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                                    <param id="2" name="Blend Duration">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <comment>This is used for when the player collides with an NPC</comment>
                <event-block sid="2536281747271577">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="2172177157354615" type="Holder">
                            <param id="0" name="Instance variable">mainPlayer</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="1016352825793814">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="772646568279771" type="npcs_npcs_box_000">
                                    <param id="0" name="Object">Holder</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="0" name="Stop" sid="4673483057588216" type="Holder" />
                                <action behavior="StoryMoveTo" id="9" name="Stop" sid="7417968564640985" type="Holder" />
                                <action behavior="Pathfinding" id="2" name="Stop" sid="3167412387817873" type="Holder" />
                            </actions>
                            <sub-events>
                                <event-block sid="6670748049335607">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="3321184186685074" type="PlayerFamily">
                                            <param id="0" name="Instance variable">myName</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Holder.whoFollowsMe</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="118003307676988">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="9364286326987843" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkLeft&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="6329562975519835" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleLeft&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="8789949850535185">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="5286612267480805" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkRight&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="6384398386276445" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleRight&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="2457559226937743">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="7124466085112969" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkUp&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="8179914044784632" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleUp&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="9137813995095956">
                                            <conditions>
                                                <condition id="4" name="Compare Current Animation" sid="3670586801618039" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;walkDown&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set animation" sid="8797114529775415" type="PlayerFamily">
                                                    <param id="0" name="Animation">&quot;idleDown&quot;</param>
                                                    <param id="1" name="Where to start playing this animation">0</param>
                                                    <param id="2" name="Blend Duration">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="9147931368921714">
                    <conditions />
                    <actions />
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="2434260898927128" title="audioFunctions">
            <sub-events>
                <variable constant="0" name="whatMasterVolumeWas" sid="6220697366006313" static="1" type="number">0</variable>
                <event-block sid="5723921080476839">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="9135117329927319" type="System">
                            <param id="0" name="Variable">audioSelection</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;No&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="8" name="Set silent" sid="9363191258907865" type="Audio">
                            <param id="0" name="Mode">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9594457364620176">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="1772367088476189" type="System">
                            <param id="0" name="Variable">audioSelection</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Yes&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="8" name="Set silent" sid="2374996423555986" type="Audio">
                            <param id="0" name="Mode">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>set a boolean here to check</comment>
            </sub-events>
        </event-group>
        <comment>Give option in pause menu to switch to key controls</comment>
        <event-group description="" inactive="1" sid="8631872983514763" title="PreviewConditions">
            <sub-events>
                <event-block sid="1828483053112837">
                    <conditions>
                        <condition id="-18" name="Is in preview" sid="680004822210391" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="3843338859894108">
                            <conditions />
                            <actions>
                                <action id="-15" name="Set visible" sid="9613196005674712" type="Holder">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="2511856887595978" type="EventBoxes">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="8752982687653616" type="ColBox">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="3913882477977498" type="CameraControl">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="3283034466062315" type="entryWayBox">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="10" name="Set master volume" sid="1216272193524349" type="Audio">
                                    <param id="0" name="dB">-200</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3599894970990814">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="6142191776887444" type="Keyboard">
                                    <param id="0" name="Key">49 (1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="2494457081904272" type="System">
                                    <param id="0" name="Variable">currentEpisode</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-26" name="Restart layout" sid="5033708714389764" type="System" />
                                <action id="-45" name="Reset persisted objects" sid="2272518325198956" type="System" />
                            </actions>
                        </event-block>
                        <event-block sid="9053375448971106">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="7366594042249835" type="Keyboard">
                                    <param id="0" name="Key">50 (2)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="225396684112164" type="System">
                                    <param id="0" name="Variable">currentEpisode</param>
                                    <param id="1" name="Value">2</param>
                                </action>
                                <action id="-26" name="Restart layout" sid="9929950268259277" type="System" />
                                <action id="-45" name="Reset persisted objects" sid="8323738429451956" type="System" />
                            </actions>
                        </event-block>
                        <event-block sid="5779978830735732">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="3724720565835933" type="Keyboard">
                                    <param id="0" name="Key">51 (3)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="1638742938830423" type="System">
                                    <param id="0" name="Variable">currentEpisode</param>
                                    <param id="1" name="Value">3</param>
                                </action>
                                <action id="-26" name="Restart layout" sid="3286838321586725" type="System" />
                                <action id="-45" name="Reset persisted objects" sid="6631160078937221" type="System" />
                            </actions>
                        </event-block>
                        <event-block sid="5688663535692642">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="3876063462298975" type="Keyboard">
                                    <param id="0" name="Key">81 (Q)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-27" name="Snapshot canvas" sid="2891313705391414" type="System">
                                    <param id="0" name="Format">0</param>
                                    <param id="1" name="JPEG quality">75</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8373394667040334">
                            <conditions>
                                <condition id="-26" name="On canvas snapshot" sid="2021364806886746" type="System" />
                            </conditions>
                            <actions>
                                <action id="8" name="Open URL in new window" sid="6890023282515699" type="Browser">
                                    <param id="0" name="URL">CanvasSnapshot</param>
                                    <param id="1" name="Tag">&quot;NewWindow&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2343331461312407">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="4668686179474006" type="Keyboard">
                                    <param id="0" name="Key">77 (M)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="8460757988221217">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="188375031004657" type="System">
                                            <param id="0" name="First value">Audio.MasterVolume</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="10" name="Set master volume" sid="1420262378827691" type="Audio">
                                            <param id="0" name="dB">-100</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5815157441641749">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="2106792431353423" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="10" name="Set master volume" sid="8256314301678615" type="Audio">
                                            <param id="0" name="dB">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="6657478312217463">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="36822843437325" type="Keyboard">
                                    <param id="0" name="Key">89 (Y)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set time scale" sid="1735230999303393" type="System">
                                    <param id="0" name="Time scale">timescale + 0.25</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4872334642636094">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="6946120924739922" type="Keyboard">
                                    <param id="0" name="Key">85 (U)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set time scale" sid="9922691605030365" type="System">
                                    <param id="0" name="Time scale">timescale - 0.25</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4397446640534634">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="1895548112212268" type="Keyboard">
                                    <param id="0" name="Key">84 (T)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Download" sid="8828999772638255" type="allTileMaps">
                                    <param id="0" name="Filename">allTileMaps.LayerName &amp; allTileMaps.UID &amp; &quot;.json&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="5628276154737868" title="saveLoad">
            <sub-events>
                <variable constant="0" name="alreadyDeactivated" sid="2336432518455221" static="1" type="number">0</variable>
                <variable constant="0" name="numberOfLayouts" sid="1602556785809896" static="1" type="number">0</variable>
                <comment>Currently the Pause function is still not workign right with the typing functionality...</comment>
                <event-block disabled="1" sid="3688102434048742">
                    <conditions>
                        <condition id="0" name="On function" sid="4616562934734622" type="Function">
                            <param id="0" name="Name">&quot;saveGame&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-36" name="Save" sid="8969650713436631" type="System">
                            <param id="0" name="Slot">&quot;autoLoad&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="463083809062478">
                    <conditions>
                        <condition id="0" name="On function" sid="8872860796407559" type="Function">
                            <param id="0" name="Name">&quot;loadGame&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="8287949438771128" type="Audio">
                            <param id="0" name="Audio file">Menu Click 2</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;saveLoad&quot;</param>
                        </action>
                        <action disabled="1" id="-16" name="Wait" sid="9521641638434522" type="System">
                            <param id="0" name="Seconds">1</param>
                        </action>
                        <action id="-37" name="Load" sid="8618281127356408" type="System">
                            <param id="0" name="Slot">&quot;autoLoad&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="754161130822642">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="346860755098279" type="System" />
                        <condition id="-8" name="Compare two values" sid="6454794822476277" type="System">
                            <param id="0" name="First value">LayoutName</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Second value">&quot;mainMenu&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-36" name="Save" sid="6001011329606034" type="System">
                            <param id="0" name="Slot">&quot;autoLoad&quot;</param>
                        </action>
                        <action id="0" name="Set local value" sid="4889446791864657" type="WebStorage">
                            <param id="0" name="Key">&quot;gameSaved&quot;</param>
                            <param id="1" name="Value">&quot;yes&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment>Should Change Fader to FadeMeIn Below, one way or another they should be the same thing</comment>
        <event-group description="" sid="3827884637104634" title="mobileConditionals">
            <sub-events>
                <event-block sid="1606958758348307">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="5353831695140288" type="System" />
                        <condition id="-20" name="Is on mobile device" sid="8443300646083203" type="System" />
                    </conditions>
                    <actions>
                        <action id="10" name="Request fullscreen" sid="4601977476653829" type="Browser">
                            <param id="0" name="Mode">3</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment>Excluded ZoomInToScale1 and zoomOut as I do not use them today</comment>
        <event-group description="" sid="6693673068962205" title="actionButtons">
            <sub-events>
                <event-block sid="4153099216292722">
                    <conditions>
                        <condition id="-10" name="Compare opacity" sid="3742134702084773" type="Fader">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Opacity">100</param>
                        </condition>
                        <condition id="-9" name="Is visible" sid="7015838813336141" type="Fader" />
                        <condition id="-14" name="Compare variable" sid="1455672964837311" type="System">
                            <param id="0" name="Variable">timeDiffFromLayoutStart</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">5</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>jes</comment>
                        <event-block any="1" sid="7048121755789849">
                            <conditions>
                                <condition id="3" name="On touched object" sid="6530199882451961" type="Touch">
                                    <param id="0" name="Object">Fader</param>
                                </condition>
                                <condition id="0" name="On key pressed" sid="2911429274763516" type="Keyboard">
                                    <param id="0" name="Key">32 (Space)</param>
                                </condition>
                                <condition id="6" name="On button pressed" sid="5539296625512917" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Button">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="9438066743702672" type="talkingSpriteText" />
                                <action id="-9" name="Destroy" sid="7997804338080511" type="menuArrow2" />
                                <action disabled="1" id="-12" name="Set group active" sid="2144360266635536" type="System">
                                    <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="8610703462693741" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action behavior="fadeOut" disabled="1" id="0" name="Restart fade" sid="2139118485222674" type="fadeMeIn" />
                                <action id="-16" name="Wait" sid="9646879981301912" type="System">
                                    <param id="0" name="Seconds">0.3</param>
                                </action>
                                <action id="-12" name="Set group active" sid="8388682427155795" type="System">
                                    <param id="0" name="Group name">&quot;textFunctions&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-12" name="Set group active" sid="7644525313869136" type="System">
                                    <param id="0" name="Group name">&quot;fadeIn&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-16" name="Wait" sid="5223161194170636" type="System">
                                    <param id="0" name="Seconds">3</param>
                                </action>
                                <action id="-42" name="Signal" sid="4841173319456261" type="System">
                                    <param id="0" name="Tag">fader.eventSignal</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="9078335918298843">
                                    <conditions>
                                        <condition id="-3" name="Is on-screen" sid="3951386431467151" type="IntroSpriteText" />
                                    </conditions>
                                    <actions>
                                        <action behavior="FadeOut" id="0" name="Restart fade" sid="8363334862005473" type="IntroSpriteText" />
                                        <action id="-42" name="Signal" sid="264289868590246" type="System">
                                            <param id="0" name="Tag">IntroSpriteText.mySignal</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="6945143745839952">
                            <conditions>
                                <condition id="-3" inverted="1" name="Is on-screen" sid="2630398024260063" type="menuWindow9" />
                            </conditions>
                            <actions>
                                <action disabled="1" id="0" name="Call function" sid="5500200190534557" type="Function">
                                    <param id="0" name="Name">&quot;completeText&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Call function" sid="9350627630095183" type="Function">
                                    <param id="0" name="Name">&quot;killText&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3814046305918757">
                            <conditions>
                                <condition id="-22" name="Else" sid="5827889571224879" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="5669400169460906" type="Function">
                                    <param id="0" name="Name">&quot;completeText&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action disabled="1" id="0" name="Call function" sid="156926607206383" type="Function">
                                    <param id="0" name="Name">&quot;killText&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>This works perfectly for talk/transition</comment>
                <event-block any="1" sid="8749307149919978">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="3187789083097467" type="menuWindow9" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="7995970335751347">
                            <conditions>
                                <condition id="6" name="On button pressed" sid="8843370709713471" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Button">0</param>
                                </condition>
                                <condition id="0" name="On key pressed" sid="5219743932006082" type="Keyboard">
                                    <param id="0" name="Key">32 (Space)</param>
                                </condition>
                                <condition id="0" name="On any touch start" sid="5768815024604213" type="Touch" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="1136542178350166">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="7362688465321692" type="menuWindow9">
                                            <param id="0" name="Instance variable">isComplete2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="8537264705304454" type="Function">
                                            <param id="0" name="Name">&quot;completeText&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="1125888372800778" type="System">
                                            <param id="0" name="Group name">&quot;actionButtons&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="6418735584063425" type="System">
                                            <param id="0" name="Seconds">0.35</param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="9782861780107391" type="System">
                                            <param id="0" name="Group name">&quot;actionButtons&quot;</param>
                                            <param id="1" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5876410255915982">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="9507103514012252" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="1460541141346936" type="Function">
                                            <param id="0" name="Name">&quot;killText&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="4379109278219473" type="System">
                                            <param id="0" name="Group name">&quot;actionButtons&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="8242771018394749" type="System">
                                            <param id="0" name="Seconds">0.35</param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="2401430460819979" type="System">
                                            <param id="0" name="Group name">&quot;actionButtons&quot;</param>
                                            <param id="1" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block disabled="1" sid="5977250045350601">
                            <conditions />
                            <actions>
                                <action disabled="1" id="-12" name="Set group active" sid="5580287566612878" type="System">
                                    <param id="0" name="Group name">&quot;actionButtons&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action disabled="1" id="-16" name="Wait" sid="8426596451545774" type="System">
                                    <param id="0" name="Seconds">0.35</param>
                                </action>
                                <action disabled="1" id="-12" name="Set group active" sid="9354885760198624" type="System">
                                    <param id="0" name="Group name">&quot;actionButtons&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="3055901847692711" title="layoutChanging">
            <sub-events>
                <event-block sid="9869812543633932">
                    <conditions>
                        <condition id="0" name="On function" sid="6689041727090135" type="Function">
                            <param id="0" name="Name">&quot;restartIf&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="8638861930797099">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="7251073587276609" type="System">
                                    <param id="0" name="Variable">previousLayout</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-26" name="Restart layout" sid="9749377289106546" type="System" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="4146727405337472">
                    <conditions>
                        <condition id="-3" name="On end of layout" sid="9389739870045428" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="6907461502417214" type="System">
                            <param id="0" name="Variable">previousLayout</param>
                            <param id="1" name="Value">LayoutName</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7766199522265177">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="7494025368646369" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="871519162396011" type="Function">
                            <param id="0" name="Name">&quot;restartIf&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;mainMenu&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1183197173638296" title="layeringOverRockin">
            <sub-events>
                <event-block sid="5840323607900357">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="3202338478597315" type="Holder">
                            <param id="0" name="Instance variable">wasMovingAs</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">&quot;none&quot;</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="3093173724800892" type="PlayerFamily" />
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="4934952447248043" type="PlayerFamily">
                            <param id="0" name="Instance variable">dontLayerMe</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="8190077901574998">
                            <conditions>
                                <condition id="-24" name="For Each (ordered)" sid="6095752807248837" type="System">
                                    <param id="0" name="Object">PlayerFamily</param>
                                    <param id="1" name="Expression">PlayerFamily.Y</param>
                                    <param id="2" name="Order">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-25" name="Move to bottom" sid="9661522139056588" type="PlayerFamily" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="9549734449516001">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="5143742822264226" type="Holder">
                            <param id="0" name="Instance variable">wasMovingAs</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">&quot;none&quot;</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="4976826724465387" type="spritesToLayerMidLowMidHighFamily" />
                        <condition id="-15" name="Pick nearest/furthest" sid="9738851776828753" type="spritesToLayerMidLowMidHighFamily">
                            <param id="0" name="Which">0</param>
                            <param id="1" name="X">Holder.X</param>
                            <param id="2" name="Y">Holder.Y</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="7352612180329">
                            <conditions>
                                <condition id="-2" name="Compare Y" sid="8309709328496711" type="spritesToLayerMidLowMidHighFamily">
                                    <param id="0" name="Comparison">3</param>
                                    <param id="1" name="Y co-ordinate">Holder.ImagePointY(2)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-26" name="Move to layer" sid="7027197739558696" type="spritesToLayerMidLowMidHighFamily">
                                    <param id="0" name="Layer">&quot;MidLow&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7442076213337539">
                            <conditions>
                                <condition id="-22" name="Else" sid="4690330966421134" type="System" />
                            </conditions>
                            <actions>
                                <action id="-26" name="Move to layer" sid="6175863647442561" type="spritesToLayerMidLowMidHighFamily">
                                    <param id="0" name="Layer">&quot;MidHigh&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="9808406362394477" title="populateEventSet">
            <sub-events>
                <event-block sid="7851920261646593">
                    <conditions>
                        <condition id="0" name="On function" sid="7481398688584151" type="Function">
                            <param id="0" name="Name">&quot;populateEventSetFunction&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="7573131655782963">
                            <conditions />
                            <actions />
                        </event-block>
                        <event-block sid="9347889377537934">
                            <conditions />
                            <actions />
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="3482076186982521">
                    <conditions />
                    <actions />
                </event-block>
                <event-block sid="1804298251029776">
                    <conditions>
                        <condition id="0" name="On function" sid="368242102329381" type="Function">
                            <param id="0" name="Name">&quot;callMultipleFunctions&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="8310270739271121">
                            <conditions>
                                <condition id="-23" name="While" sid="5539238128109541" type="System" />
                                <condition id="-8" name="Compare two values" sid="5792507292484103" type="System">
                                    <param id="0" name="First value">loopindex</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">Function.ParamCount</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="3814598211353661" type="Function">
                                    <param id="0" name="Name">Function.Param(loopindex)</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4055993533706176">
                            <conditions />
                            <actions />
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="9323413290759775">
                    <conditions>
                        <condition id="0" name="On function" sid="2623615120650402" type="Function">
                            <param id="0" name="Name">&quot;callMultipleFunctionsFromArray&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Maybe have a behavior for each text name of a function, so saySomethingBottom always has 4 parameters</comment>
                        <variable constant="0" name="paramString" sid="5540239535389849" static="0" type="text"></variable>
                        <event-block sid="2669189137213898">
                            <conditions />
                            <actions />
                        </event-block>
                        <event-block sid="5332208305792426">
                            <conditions />
                            <actions />
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="3977233301571946">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="3413373097760679" type="Keyboard">
                            <param id="0" name="Key">84 (T)</param>
                        </condition>
                        <condition id="-18" name="Is in preview" sid="71545072595187" type="System" />
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="4005121682295427">
                    <conditions>
                        <condition id="0" name="On function" sid="6991804868655326" type="Function">
                            <param id="0" name="Name">&quot;1&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="14" name="Log" sid="8148745711932879" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;function 1&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7488943302824147">
                    <conditions>
                        <condition id="0" name="On function" sid="9073678531147794" type="Function">
                            <param id="0" name="Name">&quot;2&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="14" name="Log" sid="9022139810646133" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;function 2&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1018486581503682">
                    <conditions>
                        <condition id="0" name="On function" sid="630643630019578" type="Function">
                            <param id="0" name="Name">&quot;3&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="14" name="Log" sid="4760247336301561" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;function 3&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6156370696492309">
                    <conditions>
                        <condition id="0" name="On function" sid="7136975657131967" type="Function">
                            <param id="0" name="Name">&quot;4&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="14" name="Log" sid="4403662926066298" type="Browser">
                            <param id="0" name="Type">0</param>
                            <param id="1" name="Message">&quot;function 4&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <include>episodes</include>
        <event-block sid="5598944243574482">
            <conditions>
                <condition id="0" name="On key pressed" sid="8652126022929281" type="Keyboard">
                    <param id="0" name="Key">50 (2)</param>
                </condition>
                <condition id="-18" name="Is in preview" sid="7321099474346675" type="System" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="604846527216865">
                    <conditions>
                        <condition id="-9" name="Layer is visible" sid="2101158493383972" type="System">
                            <param id="0" name="Layer">&quot;Night&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="451520000601468" type="System">
                            <param id="0" name="Layer">&quot;night&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5460686025357618">
                    <conditions>
                        <condition id="-22" name="Else" sid="2714366717454667" type="System" />
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="6348618434770119" type="System">
                            <param id="0" name="Layer">&quot;night&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="8897030735582524">
            <conditions>
                <condition id="0" name="On function" sid="9002902679226594" type="Function">
                    <param id="0" name="Name">&quot;destroyDoorBlockers&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="4117815197060221">
                    <conditions>
                        <condition id="-23" name="While" sid="7827040071278687" type="System" />
                        <condition id="-8" name="Compare two values" sid="6435998885414806" type="System">
                            <param id="0" name="First value">loopindex</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Second value">Function.ParamCount</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="6861401755498849">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="6845450127975464" type="BlockerDoor">
                                    <param id="0" name="Instance variable">layoutPortal</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Function.Param(loopindex)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="6139002079504755" type="BlockerDoor" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="5703341189537908">
            <conditions>
                <condition id="0" name="On function" sid="6463221444547403" type="Function">
                    <param id="0" name="Name">&quot;destroyNpcs&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="9270435687981193">
                    <conditions>
                        <condition id="-23" name="While" sid="2731863002518318" type="System" />
                        <condition id="-8" name="Compare two values" sid="7019690588643795" type="System">
                            <param id="0" name="First value">loopindex</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Second value">Function.ParamCount</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="511684551565975">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="1922296935798062" type="npcs">
                                    <param id="0" name="Instance variable">familyCharMapToAppend</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Function.Param(loopindex)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="7155489146922384" type="npcs" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
